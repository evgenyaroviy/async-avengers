!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequire5523;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequire5523=a),a("bZqJx"),a("7VwOu");var o=a("bpxeT"),i=a("2TvXO"),s=a("dIxxU"),c=a("944jd"),l=(c=a("944jd"),a("iPy5Q")),u=a("bNU16"),p=document.querySelector(".container-upcoming-movie");function d(){return(d=e(o)(e(i).mark((function n(){var t,r,a,o,s,c,d;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(e){e.preventDefault();var n=e.target;n.classList.contains("upcoming-btn-add-span")?(0,u.addToLocalStorage)(e,r):n.classList.contains("upcoming-btn-remove-span")&&(0,u.removeFromLocalStorage)(e,r)},e.prev=1,(0,l.toggleLoader)(!0),e.next=5,f();case 5:return t=e.sent.results,r=b(t),e.next=9,g(r.id);case 9:0===(a=e.sent).length?p.innerHTML=h(r,[]):(y(t,a),p.innerHTML=h(r,a)),o=u.moviesIdList.find((function(e){return e.id===r.id})),s=document.querySelector(".upcoming-btn-add"),c=document.querySelector(".upcoming-btn-remove"),o?(s.style.display="none",c.style.display="block"):(c.style.display="none",s.style.display="block"),p.addEventListener("click",d),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0),w();case 23:return e.prev=23,(0,l.toggleLoader)(!1),e.finish(23);case 26:case"end":return e.stop()}}),n,null,[[1,19,23,26]])})))).apply(this,arguments)}function f(){return m.apply(this,arguments)}function m(){return(m=e(o)(e(i).mark((function n(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,l.toggleLoader)(!0),e.next=4,s.default.request(c.optionsUpcoming);case 4:return e.abrupt("return",e.sent.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),p.innerHTML=w();case 11:return e.prev=11,(0,l.toggleLoader)(!1),e.finish(11);case 14:case"end":return e.stop()}}),n,null,[[0,7,11,14]])})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=e(o)(e(i).mark((function n(t){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.default.request(c.optionsGenre);case 3:return r=e.sent,e.abrupt("return",r.data.genres);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function b(e){var n=new Date,t=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0"),a="".concat(t,"-").concat(r,"-01"),o="".concat(t,"-").concat(r,"-31"),i=e.filter((function(e){return e.release_date>=a&&e.release_date<=o}));return i[Math.floor(Math.random()*i.length)]}function y(e,n){return e.map((function(e){return e.genre_ids.map((function(e){var t=n.find((function(n){return n.id===e}));return t?t.name:""})).join(", ")}))}function h(e,n){var t,r,a,o,i=e.id,s=e.backdrop_path,c=e.poster_path,l=e.original_title,u=e.release_date,p=e.vote_average,d=e.vote_count,f=e.popularity,m=e.genre_ids,g=e.overview,v=(t=u,r=x(new Date(t).getDate()),a=x(new Date(t).getMonth()+1),o=new Date(t).getFullYear(),"".concat(r,".").concat(a,".").concat(o)),b=null;b=window.innerWidth<=767&&c?"https://image.tmdb.org/t/p/original/".concat(c):s?"https://image.tmdb.org/t/p/original/".concat(s):"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";var y=f.toFixed(1),h=m.map((function(e){var t=n.find((function(n){return n.id===e}));return t?t.name:""}));return'\n    <img width="280" height="402" class="upcoming-image" loading="lazy" src="'.concat(b,'" alt="').concat(l,'">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">').concat(l,'</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">').concat(v,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>').concat(p,"</span> / <span>").concat(d,'</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">').concat(y,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">').concat(h.join(", "),'</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">').concat(g,'</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="').concat(i,'" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="').concat(i,'" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  ')}function w(){return console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>'}function x(e){return String(e).padStart(2,"0")}!function(){d.apply(this,arguments)}();o=a("bpxeT"),i=a("2TvXO"),s=a("dIxxU");var L,k=a("F0m9M"),S=(c=a("944jd"),document.querySelector(".movies-container")),_=(L=e(o)(e(i).mark((function n(){var t;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=s.default.request(c.optionsWeek),e.abrupt("return",t.then((function(e){window.screen.width<=768?(q(e.data.results.slice(0,1)),getGenres(e.data.results.slice(0,1))):q(e.data.results.slice(0,3))})));case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),n,null,[[0,5]])}))),function(){return L.apply(this,arguments)});function q(e){return M.apply(this,arguments)}function M(){return(M=e(o)(e(i).mark((function n(t){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:r=e.sent,t.forEach((function(e){var n=r.find((function(n){return n.id==e.genre_ids[0]}));e.genre_name=n?n.name:""})),S.innerHTML=(0,k.galleryMarkup)(t);case 5:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function T(){return D.apply(this,arguments)}function D(){return(D=e(o)(e(i).mark((function n(){var t;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.default.request(c.optionsGenre);case 3:return t=e.sent,e.abrupt("return",t.data.genres);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}_(),a("F0m9M"),a("944jd"),a("8BR1R"),a("4xv1d"),a("2SYxc"),a("iPy5Q");var O=a("2SYxc"),E=document.querySelector(".team-close-btn"),F=document.querySelector(".team-modal"),U=document.querySelector(".footer__btn"),j=document.querySelector(".backdrop-team");function R(e){e.preventDefault(),F.classList.remove("is-visible"),j.classList.remove("is-visible"),document.body.style.overflow="auto",O.scrollBtn.style.display="block"}U.addEventListener("click",(function(e){e.preventDefault(),F.classList.add("is-visible"),j.classList.add("is-visible"),document.body.style.overflow="hidden",F.style.overflow="auto",O.scrollBtn.style.display="none"})),E.addEventListener("click",R),j.addEventListener("click",R),window.addEventListener("keydown",(function(e){"Escape"===e.key&&R(e)}))}();
//# sourceMappingURL=index.273bf8fb.js.map
