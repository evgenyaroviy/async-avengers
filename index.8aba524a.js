var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},e={},a=n.parcelRequire5523;null==a&&((a=function(n){if(n in t)return t[n].exports;if(n in e){var a=e[n];delete e[n];var i={id:n,exports:{}};return t[n]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){e[n]=t},n.parcelRequire5523=a),a("kedjx"),a("exJDH");var i=a("2shzp"),o=a("e5MbR"),s=(o=a("e5MbR"),a("adAgQ")),l=a("3l4pm");const r=document.querySelector(".container-upcoming-movie");async function c(){try{(0,s.showLoader)();return(await i.default.request(o.optionsUpcoming)).data}catch(n){console.error(n),r.innerHTML=(console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>')}finally{(0,s.hideLoader)()}}function p(n,t){const{id:e,backdrop_path:a,poster_path:i,original_title:o,release_date:s,vote_average:l,vote_count:r,popularity:c,genre_ids:p,overview:d}=t,g=u(new Date(s).getDate()),m=u(new Date(s).getMonth()+1),h=new Date(s).getFullYear();let b=null;b=window.innerWidth<=767&&i?`https://image.tmdb.org/t/p/original/${i}`:a?`https://image.tmdb.org/t/p/original/${a}`:"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";return`\n    <img width="280" height="402" class="upcoming-image"  src="${b}" alt="${o}">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">${o}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${g}.${m}.${h}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${l}</span> / <span>${r}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${c.toFixed(1)}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${p.map((t=>{const e=n.find((n=>n.id===t));return e?e.name:""})).join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${d}</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="${e}" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="${e}" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  `}function u(n){return String(n).padStart(2,"0")}!async function(){try{(0,s.showLoader)();const n=(await c()).results,t=Math.floor(Math.random()*n.length),e=(n[t].id,await async function(n){try{return(await i.default.request(o.optionsGenre)).data.genres}catch(n){return console.log(n),[]}}()),a=function(n){const t=new Date,e=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-01`,a=n.filter((n=>n.release_date>=e));return a[Math.floor(Math.random()*a.length)]}(n);r.addEventListener("click",(function(n){n.preventDefault();const t=n.target;t.classList.contains("upcoming-btn-add-span")?(0,l.addToLocalStorage)(n,a):t.classList.contains("upcoming-btn-remove-span")&&(0,l.removeFromLocalStorage)(n,a)})),0===e.length?r.innerHTML=p([],a):(!function(n,t){const e=[];n.forEach((n=>{const a=[];n.genre_ids.forEach((n=>{const e=t.find((t=>t.id===n));e&&a.push(e.name)})),e.push(a.join(", "))}))}(n,e),r.innerHTML=p(e,a))}finally{(0,s.hideLoader)()}}();i=a("2shzp");var d=a("isemc");o=a("e5MbR");const g=document.querySelector(".movies-container");function m(n){g.insertAdjacentHTML("beforeend",(0,d.galleryMarkup)(n))}(async()=>{try{i.default.request(o.optionsWeek).then((n=>{window.screen.width<=768?m(n.data.results.slice(0,1)):m(n.data.results.slice(0,3))}))}catch(n){console.log(n)}})(),a("isemc"),a("e5MbR"),a("8IXMh"),a("7WYWT"),a("kKdoG"),a("adAgQ");
//# sourceMappingURL=index.8aba524a.js.map
