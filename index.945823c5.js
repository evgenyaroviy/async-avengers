!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequire5523;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){a[e]=n},n.parcelRequire5523=r),r("bZqJx"),r("7VwOu");var o=r("bpxeT"),i=r("2TvXO"),s=r("dIxxU"),c=r("944jd"),l=(c=r("944jd"),r("iPy5Q")),u=r("bNU16"),p=document.querySelector(".container-upcoming-movie");function d(){return m.apply(this,arguments)}function m(){return(m=e(o)(e(i).mark((function n(){var t;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,l.showLoader)(),e.next=4,s.default.request(c.optionsUpcoming);case 4:return t=e.sent,e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),p.innerHTML=w();case 12:return e.prev=12,(0,l.hideLoader)(),e.finish(12);case 15:case"end":return e.stop()}}),n,null,[[0,8,12,15]])})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=e(o)(e(i).mark((function n(t){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.default.request(c.optionsGenre);case 3:return a=e.sent,e.abrupt("return",a.data.genres);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function g(e){var n=new Date,t=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),r="".concat(t,"-").concat(a,"-01"),o="".concat(t,"-").concat(a,"-31"),i=e.filter((function(e){return e.release_date>=r&&e.release_date<=o}));return[i[Math.floor(Math.random()*i.length)]]}function h(){return(h=e(o)(e(i).mark((function n(){var t,a,r,o,s,c,m,v;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(e){e.preventDefault();var n=e.target;n.classList.contains("upcoming-btn-add-span")?(0,u.addToLocalStorage)(e,m):n.classList.contains("upcoming-btn-remove-span")&&(0,u.removeFromLocalStorage)(e,m)},e.prev=1,(0,l.showLoader)(),e.next=5,d();case 5:return t=e.sent,a=t.results,r=Math.floor(Math.random()*a.length),o=a[r],s=o.id,e.next=12,f(s);case 12:c=e.sent,m=g(a),p.addEventListener("click",v),0===c.length?p.innerHTML=y(m,[]):(b(a,c),p.innerHTML=y(m,c));case 17:return e.prev=17,(0,l.hideLoader)(),e.finish(17);case 20:case"end":return e.stop()}}),n,null,[[1,,17,20]])})))).apply(this,arguments)}function b(e,n){var t=[];e.forEach((function(e){var a=[];e.genre_ids.forEach((function(e){var t=n.find((function(n){return n.id===e}));t&&a.push(t.name)})),t.push(a.join(", "))}))}function y(e,n){var t=e[0],a=t.id,r=t.backdrop_path,o=t.poster_path,i=t.original_title,s=t.release_date,c=t.vote_average,l=t.vote_count,u=t.popularity,p=t.genre_ids,d=t.overview,m=x(new Date(s).getDate()),f=x(new Date(s).getMonth()+1),v=new Date(s).getFullYear(),g=null;g=window.innerWidth<=767&&o?"https://image.tmdb.org/t/p/original/".concat(o):r?"https://image.tmdb.org/t/p/original/".concat(r):"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";var h=u.toFixed(1),b=p.map((function(e){var t=n.find((function(n){return n.id===e}));return t?t.name:""}));return'\n    <img width="280" height="402" class="upcoming-image" loading="lazy" src="'.concat(g,'" alt="').concat(i,'">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">').concat(i,'</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">').concat(m,".").concat(f,".").concat(v,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>').concat(c,"</span> / <span>").concat(l,'</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">').concat(h,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">').concat(b.join(", "),'</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">').concat(d,'</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="').concat(a,'" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="').concat(a,'" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  ')}function w(){return console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>'}function x(e){return String(e).padStart(2,"0")}!function(){h.apply(this,arguments)}();o=r("bpxeT"),i=r("2TvXO"),s=r("dIxxU");var L,k=r("F0m9M"),M=(c=r("944jd"),document.querySelector(".movies-container")),S=(L=e(o)(e(i).mark((function n(){var t;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=s.default.request(c.optionsWeek),e.abrupt("return",t.then((function(e){window.screen.width<=768?_(e.data.results.slice(0,1)):_(e.data.results.slice(0,3))})));case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),n,null,[[0,5]])}))),function(){return L.apply(this,arguments)});function _(e){M.innerHTML=(0,k.galleryMarkup)(e)}S(),r("F0m9M"),r("944jd"),r("8BR1R"),r("4xv1d"),r("2SYxc"),r("iPy5Q");var T=r("2SYxc"),q=document.querySelector(".team-close-btn"),D=document.querySelector(".team-modal"),E=document.querySelector(".footer__btn"),O=document.querySelector(".backdrop-team");function F(e){e.preventDefault(),D.classList.remove("is-visible"),O.classList.remove("is-visible"),document.body.style.overflow="auto",T.scrollBtn.style.display="block"}E.addEventListener("click",(function(e){e.preventDefault(),D.classList.add("is-visible"),O.classList.add("is-visible"),document.body.style.overflow="hidden",D.style.overflow="auto",T.scrollBtn.style.display="none"})),q.addEventListener("click",F),O.addEventListener("click",F),window.addEventListener("keydown",(function(e){"Escape"===e.key&&F(e)}))}();
//# sourceMappingURL=index.945823c5.js.map
