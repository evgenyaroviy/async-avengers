var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},e={},i=t.parcelRequire5523;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in e){var i=e[t];delete e[t];var s={id:t,exports:{}};return n[t]=s,i.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,n){e[t]=n},t.parcelRequire5523=i),i("kedjx"),i("exJDH");var s=i("2shzp"),a=i("e5MbR");a=i("e5MbR");const o=document.querySelector(".loader");function l(){o.style.display="block"}function r(){o.style.display="none"}const c=document.querySelector(".container-upcoming-movie");async function p(){try{l();return(await s.default.request(a.optionsUpcoming)).data}catch(t){console.error(t),c.innerHTML=(console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>')}finally{r()}}function d(t,n){const e=new Date,i=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-01`,s=t.filter((t=>t.release_date>=i)),a=s[Math.floor(Math.random()*s.length)],{id:o,backdrop_path:l,poster_path:r,original_title:c,release_date:p,vote_average:d,vote_count:g,popularity:m,genre_ids:b,overview:f}=a,h=u(new Date(p).getDate()),y=u(new Date(p).getMonth()+1),v=new Date(p).getFullYear();let w=null;w=window.innerWidth<=767&&r?`https://image.tmdb.org/t/p/original/${r}`:l?`https://image.tmdb.org/t/p/original/${l}`:"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";return`\n    <img width="280" height="402" class="upcoming-image"  src="${w}" alt="${c}">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">${c}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${h}.${y}.${v}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${d}</span> / <span>${g}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${m.toFixed(1)}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${b.map((t=>{const e=n.find((n=>n.id===t));return e?e.name:""})).join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${f}</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="${o}" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="${o}" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  `}function u(t){return String(t).padStart(2,"0")}c.addEventListener("click",(function(t){t.preventDefault();const n=t.target;n.classList.contains("upcoming-btn-add-span")?function(t){const n=t.target.parentNode;n.style.display="none";n.nextElementSibling.style.display="block"}(t):n.classList.contains("upcoming-btn-remove-span")&&function(t){const n=t.target.parentNode;n.style.display="none";n.previousElementSibling.style.display="block"}(t)})),async function(){try{l();const t=(await p()).results,n=Math.floor(Math.random()*t.length),e=(t[n].id,await async function(t){try{return(await s.default.request(a.optionsGenre)).data.genres}catch(t){return console.log(t),[]}}());0===e.length?c.innerHTML=d(t,[]):(!function(t,n){const e=[];t.forEach((t=>{const i=[];t.genre_ids.forEach((t=>{const e=n.find((n=>n.id===t));e&&i.push(e.name)})),e.push(i.join(", "))}))}(t,e),c.innerHTML=d(t,e))}finally{r()}}();s=i("2shzp");const g=document.querySelector(".weekly_content");console.log((()=>{try{return s.default.get("https://api.themoviedb.org/3/trending/movie/week?language=en-US&api_key=e80fd9fb75f14049ed52c4547080278b").then((t=>function(t){let n=t.map((t=>`<div class="card">\n    <img class="test_img" src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.title}">\n    <div class="card_titles">\n    <p class="card_sup_title">${t.title}</p>\n    <p class="card_sub_title">${t.release_date.slice(0,4)}</p>\n  </div>\n    </div>`)).join("");g.insertAdjacentHTML("beforeend",n)}(t.data.results.slice(0,1))))}catch(t){console.log("error"+t)}})()),i("isemc"),i("e5MbR"),i("8IXMh"),i("7WYWT"),i("kKdoG");
//# sourceMappingURL=index.025ace52.js.map
