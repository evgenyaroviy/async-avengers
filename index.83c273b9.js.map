{"mappings":"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","sources":["src/js/pages/header.js","src/js/pages/home/monthly_trends.js","src/js/request.js","src/js/pages/home/weekly_trends.js","src/js/components/scrollUp.js"],"sourcesContent":["// mobileMenu\nconst mobileMenuBtnEl = document.querySelector('.mob-menu-btn');\nconst mobileBackdropEl = document.querySelector('.mobile-backdrop');\n\nmobileMenuBtnEl.addEventListener('click', () => {\n  mobileBackdropEl.classList.toggle('is-open');\n});\n\nmobileBackdropEl.addEventListener('click', e => {\n  e.target.classList.remove('is-open');\n});\n\n// Закрываем мобильное меню на более широких экранах\n// в случае изменения ориентации устройства.\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  mobileBackdropEl.classList.remove('is-open');\n});\n\n//switchTheme\nconst bodyEl = document.body;\nconst themeBtnEl = document.querySelector('.theme');\nconst themeSwitchEl = document.querySelector('.theme__switch');\n\nbodyEl.classList.add('dark');\n\nthemeBtnEl.addEventListener('click', () => {\n  if (bodyEl.classList.contains('dark')) {\n    bodyEl.classList.remove('dark');\n    bodyEl.classList.add('light');\n    themeSwitchEl.classList.add('switchLight');\n    themeSwitchEl.classList.remove('switchDark');\n    return;\n  }\n  bodyEl.classList.remove('light');\n  bodyEl.classList.add('dark');\n  themeSwitchEl.classList.add('switchDark');\n  themeSwitchEl.classList.remove('switchLight');\n});\n\n//pageActive\n\nconst siteNavLinks = document.querySelectorAll('.js-nav-link');\n\nwindow.addEventListener('load', () => {\n  const titleEl = window.location.pathname;\n\n  return siteNavLinks.forEach(el => {\n    if (el.getAttribute('href') === titleEl) {\n      el.classList.add('active-page');\n    }\n  });\n});\n","import axios from 'axios';\nimport { optionsUpcoming } from '../../request';\nimport { optionsGenre } from '../../request';\n\nconst containerMovie = document.querySelector('.container-upcoming-movie');\n\nasync function fetchUpcomingMovie() {\n  try {\n    const response = await axios.request(optionsUpcoming);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    containerMovie.innerHTML = markupError();\n  }\n}\nasync function fetchGenresMovie(id) {\n  try {\n    const genres = await axios.request(optionsGenre);\n    return genres.data.genres;\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\n\nasync function responseUpcoming() {\n  const data = await fetchUpcomingMovie();\n  const movieInfo = data.results;\n  const randomIndex = Math.floor(Math.random() * movieInfo.length);\n  const randomMovie = movieInfo[randomIndex];\n  const id = randomMovie.id;\n  const genres = await fetchGenresMovie(id);\n\n  if (genres.length === 0) {\n    containerMovie.innerHTML = createMarkupUpcoming(movieInfo, []);\n  } else {\n    generateGenres(movieInfo, genres);\n    containerMovie.innerHTML = createMarkupUpcoming(movieInfo, genres);\n  }\n}\n\nfunction generateGenres(movieInfo, genres) {\n  const genresName = [];\n  movieInfo.forEach(movie => {\n    const genreNames = [];\n    movie.genre_ids.forEach(genreId => {\n      const genre = genres.find(genre => genre.id === genreId);\n      if (genre) {\n        genreNames.push(genre.name);\n      }\n    });\n    genresName.push(genreNames.join(', '));\n  });\n}\n\nfunction createMarkupUpcoming(movieInfo, genres) {\n  const currentDate = new Date();\n  const year = currentDate.getFullYear();\n  const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n  const thisMonth = `${year}-${month}-01`;\n\n  const filteredMovies = movieInfo.filter(\n    movie => movie.release_date >= thisMonth\n  );\n  const randomIndex = Math.floor(Math.random() * filteredMovies.length);\n  const randomMovie = filteredMovies[randomIndex];\n  const {\n    id: idMovie,\n    backdrop_path,\n    poster_path,\n    original_title,\n    release_date,\n    vote_average,\n    vote_count,\n    popularity,\n    genre_ids,\n    overview,\n  } = randomMovie;\n\n  const releaseDay = addLeadingZero(new Date(release_date).getDate());\n  const releaseMonth = addLeadingZero(new Date(release_date).getMonth() + 1);\n  const releaseYear = new Date(release_date).getFullYear();\n\n  let poster = null;\n\n  if (backdrop_path) {\n    poster = `https://image.tmdb.org/t/p/original/${backdrop_path}`;\n  } else if (poster_path) {\n    poster = `https://image.tmdb.org/t/p/original/${poster_path}`;\n  } else {\n    poster = `https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png`;\n  }\n\n  const roundedPopularity = popularity.toFixed(1);\n\n  const genreNames = genre_ids.map(genreId => {\n    const genre = genres.find(genre => genre.id === genreId);\n    return genre ? genre.name : '';\n  });\n\n  return `\n    <img class=\"upcoming-image\" src=\"${poster}\" alt=\"${original_title}\">\n    <div class=\"info-container\" >\n    <h3 class=\"upcoming-movie-title\">${original_title}</h3>\n    <ul class=\"upcoming-list-details list\">\n      <li class=\"upcoming-list-details-item\">\n        <p class=\"upcoming-list-details-subtitle\">Release date</p>\n        <p class=\"upcoming-realese-date\">${releaseDay}.${releaseMonth}.${releaseYear}</p>\n      </li>\n      <li class=\"upcoming-list-details-item\">\n        <p class=\"upcoming-list-details-subtitle\">Vote / Votes</p>\n        <p class=\"upcoming-votes\"><span>${vote_average}</span> / <span>${vote_count}</span></p>\n      </li>\n      <li class=\"upcoming-list-details-item\">\n        <p class=\"upcoming-list-details-subtitle\">Popularity</p>\n        <p class=\"upcoming-popularity\">${roundedPopularity}</p>\n      </li>\n      <li class=\"upcoming-list-details-item\">\n        <p class=\"upcoming-list-details-subtitle\">Genre</p>\n        <p class=\"genre\">${genreNames.join(', ')}</p>\n      </li>\n    </ul>\n    <h4 class=\"upcoming-about\">ABOUT</h4>\n    <p class=\"upcoming-about-text\">${overview}</p>\n    <button class=\"btn upcoming-btn-add btn-accent\"  type=\"button\">\n    <span class=\"btn-in upcoming-btn-add-span\" data-id=\"${idMovie}\">Add to my library</span></button>\n    <button class=\"btn upcoming-btn-remove btn-dark\" hidden  type=\"button\">\n    <span class=\"btn-in upcoming-btn-remove-span\" data-id=\"${idMovie}\" >Remove from my library</span></button>\n    </div>\n  `;\n}\n\n// ERROR//\n\nfunction markupError() {\n  console.log('hello');\n  return `      \n<h2 class=\"upcoming-error\">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>`;\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n// BUTTON//\n\ncontainerMovie.addEventListener('click', onClickAddToLocalStorage);\n\nfunction onClickAddToLocalStorage(event) {\n  event.preventDefault();\n  const target = event.target;\n  if (target.classList.contains('upcoming-btn-add-span')) {\n    addToLocalStorage(event);\n  } else if (target.classList.contains('upcoming-btn-remove-span')) {\n    removeFromLocalStorage(event);\n  }\n}\n\nfunction addToLocalStorage(e) {\n  const addToLibraryBtn = e.target.parentNode;\n  addToLibraryBtn.style.display = 'none';\n  const removeFromLibraryBtn = addToLibraryBtn.nextElementSibling;\n  removeFromLibraryBtn.style.display = 'block';\n}\nfunction removeFromLocalStorage(e) {\n  const removeFromLibraryBtn = e.target.parentNode;\n  removeFromLibraryBtn.style.display = 'none';\n  const addToLibraryBtn = removeFromLibraryBtn.previousElementSibling;\n  addToLibraryBtn.style.display = 'block';\n}\nresponseUpcoming();\n","// Щоб імпортувати використовуйте: import { optionsWeek, optionsUpcoming, optionsSearch, optionsDetails, optionsVideos, optionsGenre } from './шлях до js';\n\n// Приклад використання:\n// axios\n//     .request(optionsWeek)\n//     .then(function (response) {\n//         console.log(response.data);\n//     })\n//     .catch(function (error) {\n//         console.error(error);\n//     });\n\nconst ACCESS_KEY = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOTZiN2ExNTYwNGYwMmExYWNkMTVhNWJlY2JmMjQ4MCIsInN1YiI6IjY0ODNhYTBhOTkyNTljMDBlMmY0NWE4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._Sdbi-2PalUFAI7K7hzIv-hc4p92EU6q_yg6_IJJHjA'\n\n// MOVIES OF THE WEEK\nexport const optionsWeek = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/movie/week',\n    params: { language: 'en-US' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n// UPCOMING MOVIES\nexport const optionsUpcoming = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/movie/upcoming',\n    params: { language: 'en-US' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n// SEARCH MOVIES\nexport const optionsSearch = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/search/movie',\n    params: { include_adult: 'false', language: 'en-US', page: '1' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n// DETAILS MOVIES\nexport const optionsDetails = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/movie/movie_id',\n    params: { language: 'en-US' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n// VIDEOS MOVIES \nexport const optionsVideos = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/movie/movie_id/videos',\n    params: { language: 'en-US' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n\n// GENRE MOVIES\nexport const optionsGenre = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/genre/movie/list',\n    params: { language: 'en' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};","import axios from 'axios';\n\nconst API_KEY = 'e80fd9fb75f14049ed52c4547080278b';\nconst CARD_BLOCK = document.querySelector('.weekly_content');\nconst getResponce = () => {\n  try {\n    const res = axios.get(\n      `https://api.themoviedb.org/3/trending/movie/week?language=en-US&api_key=${API_KEY}`\n    );\n    return res.then(res => createMarkup(res.data.results.slice(0, 1)));\n  } catch (error) {\n    console.log('error' + error);\n  }\n};\nconsole.log(getResponce());\nfunction createMarkup(data) {\n  let card = data\n    .map(item => {\n      return `<div class=\"card\">\n    <img class=\"test_img\" src=\"https://image.tmdb.org/t/p/w500${\n      item.poster_path\n    }\" alt=\"${item.title}\">\n    <div class=\"card_titles\">\n    <p class=\"card_sup_title\">${item.title}</p>\n    <p class=\"card_sub_title\">${item.release_date.slice(0, 4)}</p>\n  </div>\n    </div>`;\n    })\n    .join('');\n  CARD_BLOCK.insertAdjacentHTML('beforeend', card);\n}\n","const scrollBtn = document.querySelector(\".scroll-up-btn\");\n\nwindow.addEventListener(\"scroll\", function () {\n    if (window.pageYOffset > 300) {\n        scrollBtn.style.display = \"block\";\n    } else {\n        scrollBtn.style.display = \"none\";\n    }\n});\n\nscrollBtn.addEventListener(\"click\", function () {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n});"],"names":["$eb9f716130baccd5$var$mobileMenuBtnEl","document","querySelector","$eb9f716130baccd5$var$mobileBackdropEl","addEventListener","classList","toggle","e","target","remove","window","matchMedia","matches","$eb9f716130baccd5$var$bodyEl","body","$eb9f716130baccd5$var$themeBtnEl","$eb9f716130baccd5$var$themeSwitchEl","add","contains","$eb9f716130baccd5$var$siteNavLinks","querySelectorAll","titleEl","location","pathname","forEach","el","getAttribute","$2shzp","parcelRequire","$a426e9e8249f6b8b$var$ACCESS_KEY","$a426e9e8249f6b8b$export$1e8e70bb451b979f","method","url","params","language","headers","accept","Authorization","$a426e9e8249f6b8b$export$82dbc43f6dc35c39","$db4dcec9f7e39aa5$var$containerMovie","async","$db4dcec9f7e39aa5$var$fetchUpcomingMovie","default","request","data","error","console","innerHTML","log","$db4dcec9f7e39aa5$var$createMarkupUpcoming","movieInfo","genres","currentDate","Date","thisMonth","getFullYear","String","getMonth","padStart","filteredMovies","filter","movie","release_date","randomMovie","Math","floor","random","length","id","idMovie","backdrop_path","poster_path","original_title","vote_average","vote_count","popularity","genre_ids","overview","poster","$db4dcec9f7e39aa5$var$addLeadingZero","getDate","toFixed","map","genreId","genre2","find","genre","name","join","value","event","preventDefault","addToLibraryBtn","parentNode","style","display","nextElementSibling","$db4dcec9f7e39aa5$var$addToLocalStorage","removeFromLibraryBtn","previousElementSibling","$db4dcec9f7e39aa5$var$removeFromLocalStorage","results","$db4dcec9f7e39aa5$var$fetchGenresMovie","genresName","genreNames","genre1","push","$db4dcec9f7e39aa5$var$generateGenres","$db4dcec9f7e39aa5$var$responseUpcoming","$f3f8ccbc0519c503$var$CARD_BLOCK","get","then","res","card","item","title","slice","insertAdjacentHTML","$f3f8ccbc0519c503$var$createMarkup","$f3f8ccbc0519c503$var$getResponce","$f1a27ee66f87eadf$var$scrollBtn","pageYOffset","scrollTo","top","behavior"],"version":3,"file":"index.83c273b9.js.map"}