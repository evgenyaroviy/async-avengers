var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},i=t.parcelRequire5523;null==i&&((i=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,i.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},t.parcelRequire5523=i);const a=document.querySelector(".mob-menu-btn"),s=document.querySelector(".mobile-backdrop");a.addEventListener("click",(()=>{s.classList.toggle("is-open")})),s.addEventListener("click",(t=>{t.target.classList.remove("is-open")})),window.matchMedia("(min-width: 768px)").addEventListener("change",(t=>{t.matches&&s.classList.remove("is-open")}));const o=document.body,l=document.querySelector(".theme"),c=document.querySelector(".theme__switch");o.classList.add("dark"),l.addEventListener("click",(()=>{if(o.classList.contains("dark"))return o.classList.remove("dark"),o.classList.add("light"),c.classList.add("switchLight"),void c.classList.remove("switchDark");o.classList.remove("light"),o.classList.add("dark"),c.classList.add("switchDark"),c.classList.remove("switchLight")}));const r=document.querySelectorAll(".js-nav-link");window.addEventListener("load",(()=>{const t=window.location.pathname;return r.forEach((e=>{e.getAttribute("href")===t&&e.classList.add("active-page")}))}));var d=i("2shzp");const p="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOTZiN2ExNTYwNGYwMmExYWNkMTVhNWJlY2JmMjQ4MCIsInN1YiI6IjY0ODNhYTBhOTkyNTljMDBlMmY0NWE4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._Sdbi-2PalUFAI7K7hzIv-hc4p92EU6q_yg6_IJJHjA",u={method:"GET",url:"https://api.themoviedb.org/3/movie/upcoming",params:{language:"en-US",page:"1"},headers:{accept:"application/json",Authorization:`Bearer ${p}`}},m={method:"GET",url:"https://api.themoviedb.org/3/genre/movie/list",params:{language:"en"},headers:{accept:"application/json",Authorization:`Bearer ${p}`}},g=document.querySelector(".container-upcoming-movie");function h(t){return String(t).padStart(2,"0")}!async function(){const t=(await async function(){try{return(await d.default.request(u)).data}catch(t){console.error(t)}}()).results,e=t[Math.floor(Math.random()*t.length)].id,n=await async function(){try{return(await d.default.request(m)).data.genres}catch(t){console.log(t)}}(),i=await async function(t){console.log(t);const e={method:"GET",url:`https://api.themoviedb.org/3/movie/${t}/images`,headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOTZiN2ExNTYwNGYwMmExYWNkMTVhNWJlY2JmMjQ4MCIsInN1YiI6IjY0ODNhYTBhOTkyNTljMDBlMmY0NWE4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._Sdbi-2PalUFAI7K7hzIv-hc4p92EU6q_yg6_IJJHjA"}};try{return(await d.default.request(e)).data}catch(t){console.error(t)}}(e);!function(t,e){const n=[];t.forEach((t=>{const i=[];t.genre_ids.forEach((t=>{const n=e.find((e=>e.id===t));n&&i.push(n.name)})),n.push(i.join(", "))}))}(t,n),g.innerHTML=function(t,e,n){const i=new Date,a=i.getFullYear(),s=String(i.getMonth()+1).padStart(2,"0"),o=`${a}-${s}-01`,l=t.filter((t=>t.release_date>=o)),c=Math.floor(Math.random()*l.length),r=l[c],{id:d,backdrop_path:p,original_title:u,release_date:m,vote_average:g,vote_count:b,popularity:f,genre_ids:y,overview:v}=r,{id:w,posters:[{file_path:L}]}=n,_=h(new Date(m).getDate()),k=h(new Date(m).getMonth()+1),I=new Date(m).getFullYear();let J=null;if(w===d||null!==p)if(w===d&&n.posters.length>1){const t=n.posters.find((t=>t.file_path!==p));t&&(J=`https://image.tmdb.org/t/p/original/${t.file_path}`)}else J=p?`https://image.tmdb.org/t/p/original/${p}`:`https://image.tmdb.org/t/p/original/${L}`;const N=f.toFixed(1),E=y.map((t=>{const n=e.find((e=>e.id===t));return n?n.name:""}));return`\n    <img class="upcoming-image" src="${J}" alt="${u}">\n    <div class="info-container">\n    <h3 class="upcoming-movie-title">${u}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${_}.${k}.${I}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${g}</span> / <span>${b}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${N}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${E.join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${v}</p>\n    <button class="btn upcoming-btn-add btn-accent" type="button">\n    <span class="btn-in">Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" hidden type="button">\n    <span class="btn-in">Remove from my library</span></button>\n    </div>\n  `}(t,n,i)}(),g.addEventListener("click",(function(t){t.preventDefault();const e=t.target;e.classList.contains("upcoming-btn-add")?function(t){const e=t.target;e.style.display="none";e.parentNode.querySelector(".upcoming-btn-remove").style.display="block"}(t):e.classList.contains("upcoming-btn-remove")&&function(t){removeFromLibraryBtn=t.target,removeFromLibraryBtn.style.display="none";removeFromLibraryBtn.parentNode.querySelector(".upcoming-btn-add").style.display="block"}(t)}));d=i("2shzp");const b=document.querySelector(".weekly_content");console.log((()=>{try{return d.default.get("https://api.themoviedb.org/3/trending/movie/week?language=en-US&api_key=e80fd9fb75f14049ed52c4547080278b").then((t=>function(t){let e=t.map((t=>`<div class="card">\n    <img class="test_img" src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.title}">\n    <div class="card_titles">\n    <p class="card_sup_title">${t.title}</p>\n    <p class="card_sub_title">${t.release_date.slice(0,4)}</p>\n  </div>\n    </div>`)).join("");b.insertAdjacentHTML("beforeend",e)}(t.data.results.slice(0,1))))}catch(t){console.log("error"+t)}})());const f=document.querySelector(".scroll-up-btn");window.addEventListener("scroll",(function(){window.pageYOffset>300?f.style.display="block":f.style.display="none"})),f.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));
//# sourceMappingURL=index.ef0af5bc.js.map
