!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},r={},a=t.parcelRequire5523;null==a&&((a=function(n){if(n in e)return e[n].exports;if(n in r){var t=r[n];delete r[n];var a={id:n,exports:{}};return e[n]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){r[n]=t},t.parcelRequire5523=a),a("bZqJx"),a("7VwOu");var o=a("bpxeT"),i=a("2TvXO"),c=a("dIxxU"),s=a("944jd"),u=(s=a("944jd"),a("iPy5Q")),l=a("bNU16"),p=document.querySelector(".container-upcoming-movie");function d(){return(d=n(o)(n(i).mark((function t(){var e,r,a,o,c,s,d;return n(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d=function(n){n.preventDefault();var t=[];t.push(r),t.forEach((function(n){var t=a.find((function(t){return t.id==n.genre_ids[0]}));return n.genre_name=t?t.name:""}));var e=n.target;e.classList.contains("upcoming-btn-add-span")?(0,l.addToLocalStorage)(n,t):e.classList.contains("upcoming-btn-remove-span")&&(0,l.removeFromLocalStorage)(n,t)},n.prev=1,(0,u.toggleLoader)(!0),n.next=5,g();case 5:return e=n.sent.results,r=h(e),n.next=9,m(r.id);case 9:0===(a=n.sent).length?p.innerHTML=y(r,[]):(b(e,a),p.innerHTML=y(r,a)),o=l.moviesIdList.find((function(n){return n.id===r.id})),c=document.querySelector(".upcoming-btn-add"),s=document.querySelector(".upcoming-btn-remove"),o?(c.style.display="none",s.style.display="block"):(s.style.display="none",c.style.display="block"),p.addEventListener("click",d),n.next=23;break;case 19:n.prev=19,n.t0=n.catch(1),console.log(n.t0),w();case 23:return n.prev=23,(0,u.toggleLoader)(!1),n.finish(23);case 26:case"end":return n.stop()}}),t,null,[[1,19,23,26]])})))).apply(this,arguments)}function g(){return f.apply(this,arguments)}function f(){return(f=n(o)(n(i).mark((function t(){return n(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(0,u.toggleLoader)(!0),n.next=4,c.default.request(s.optionsUpcoming);case 4:return n.abrupt("return",n.sent.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0),p.innerHTML=w();case 11:return n.prev=11,(0,u.toggleLoader)(!1),n.finish(11);case 14:case"end":return n.stop()}}),t,null,[[0,7,11,14]])})))).apply(this,arguments)}function m(n){return v.apply(this,arguments)}function v(){return(v=n(o)(n(i).mark((function t(e){var r;return n(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.default.request(s.optionsGenre);case 3:return r=n.sent,n.abrupt("return",r.data.genres);case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",[]);case 11:case"end":return n.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function h(n){var t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a="".concat(e,"-").concat(r,"-01"),o="".concat(e,"-").concat(r,"-31"),i=n.filter((function(n){return n.release_date>=a&&n.release_date<=o}));return i[Math.floor(Math.random()*i.length)]}function b(n,t){return n.map((function(n){return n.genre_ids.map((function(n){var e=t.find((function(t){return t.id===n}));return e?e.name:""})).join(", ")}))}function y(n,t){var e,r,a,o,i=n.id,c=n.backdrop_path,s=n.poster_path,u=n.original_title,l=n.release_date,p=n.vote_average,d=n.vote_count,g=n.popularity,f=n.genre_ids,m=n.overview,v=(e=l,r=x(new Date(e).getDate()),a=x(new Date(e).getMonth()+1),o=new Date(e).getFullYear(),"".concat(r,".").concat(a,".").concat(o)),h=null;h=window.innerWidth<=767&&s?"https://image.tmdb.org/t/p/original/".concat(s):c?"https://image.tmdb.org/t/p/original/".concat(c):"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";var b=g.toFixed(1),y=f.map((function(n){var e=t.find((function(t){return t.id===n}));return e?e.name:""}));return'\n    <img width="280" height="402" class="upcoming-image" loading="lazy" src="'.concat(h,'" alt="').concat(u,'">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">').concat(u,'</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">').concat(v,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>').concat(p,"</span> / <span>").concat(d,'</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">').concat(b,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">').concat(y.join(", "),'</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">').concat(m,'</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="').concat(i,'" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="').concat(i,'" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  ')}function w(){return console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>'}function x(n){return String(n).padStart(2,"0")}!function(){d.apply(this,arguments)}();o=a("bpxeT"),i=a("2TvXO"),c=a("dIxxU");var _,L=a("F0m9M"),k=(s=a("944jd"),document.querySelector(".movies-container")),M=(_=n(o)(n(i).mark((function t(){var e;return n(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=c.default.request(s.optionsWeek),n.abrupt("return",e.then((function(n){window.screen.width<=768?(S(n.data.results.slice(0,1)),getGenres(n.data.results.slice(0,1))):S(n.data.results.slice(0,3))})));case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),t,null,[[0,5]])}))),function(){return _.apply(this,arguments)});function S(n){return T.apply(this,arguments)}function T(){return(T=n(o)(n(i).mark((function t(e){var r;return n(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q();case 2:r=n.sent,e.forEach((function(n){var t=r.find((function(t){return t.id==n.genre_ids[0]}));n.genre_name=t?t.name:""})),k.innerHTML=(0,L.galleryMarkup)(e);case 5:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function q(){return O.apply(this,arguments)}function O(){return(O=n(o)(n(i).mark((function t(){var e;return n(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.default.request(s.optionsGenre);case 3:return e=n.sent,n.abrupt("return",e.data.genres);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}M(),a("F0m9M"),a("944jd"),a("8BR1R"),a("4xv1d"),a("2SYxc"),a("iPy5Q"),a("4cEL5")}();
//# sourceMappingURL=index.85265b06.js.map
