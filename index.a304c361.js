var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},i=t.parcelRequire5523;null==i&&((i=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var s={id:t,exports:{}};return e[t]=s,i.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){n[t]=e},t.parcelRequire5523=i);const s=document.querySelector(".mob-menu-btn"),a=document.querySelector(".mobile-backdrop");s.addEventListener("click",(()=>{a.classList.toggle("is-open")})),a.addEventListener("click",(t=>{t.target.classList.remove("is-open")})),window.matchMedia("(min-width: 768px)").addEventListener("change",(t=>{t.matches&&a.classList.remove("is-open")}));const o=document.body,l=document.querySelector(".theme"),c=document.querySelector(".theme__switch");o.classList.add("dark"),l.addEventListener("click",(()=>{if(o.classList.contains("dark"))return o.classList.remove("dark"),o.classList.add("light"),c.classList.add("switchLight"),void c.classList.remove("switchDark");o.classList.remove("light"),o.classList.add("dark"),c.classList.add("switchDark"),c.classList.remove("switchLight")}));const r=document.querySelectorAll(".js-nav-link");window.addEventListener("load",(()=>{const t=window.location.pathname;return r.forEach((e=>{e.getAttribute("href")===t&&e.classList.add("active-page")}))}));var d=i("2shzp");const p="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOTZiN2ExNTYwNGYwMmExYWNkMTVhNWJlY2JmMjQ4MCIsInN1YiI6IjY0ODNhYTBhOTkyNTljMDBlMmY0NWE4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._Sdbi-2PalUFAI7K7hzIv-hc4p92EU6q_yg6_IJJHjA",u={method:"GET",url:"https://api.themoviedb.org/3/movie/upcoming",params:{language:"en-US"},headers:{accept:"application/json",Authorization:`Bearer ${p}`}},m={method:"GET",url:"https://api.themoviedb.org/3/genre/movie/list",params:{language:"en"},headers:{accept:"application/json",Authorization:`Bearer ${p}`}},g=document.querySelector(".container-upcoming-movie");async function h(){try{return(await d.default.request(u)).data}catch(t){console.error(t),g.innerHTML=(console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>')}}function b(t,e){const n=new Date,i=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-01`,s=t.filter((t=>t.release_date>=i)),a=s[Math.floor(Math.random()*s.length)],{id:o,backdrop_path:l,poster_path:c,original_title:r,release_date:d,vote_average:p,vote_count:u,popularity:m,genre_ids:g,overview:h}=a,b=v(new Date(d).getDate()),f=v(new Date(d).getMonth()+1),y=new Date(d).getFullYear();let w=null;w=window.innerWidth<=767&&c?`https://image.tmdb.org/t/p/original/${c}`:l?`https://image.tmdb.org/t/p/original/${l}`:"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";return`\n    <img width="280" height="402" class="upcoming-image"  src="${w}" alt="${r}">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">${r}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${b}.${f}.${y}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${p}</span> / <span>${u}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${m.toFixed(1)}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${g.map((t=>{const n=e.find((e=>e.id===t));return n?n.name:""})).join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${h}</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="${o}" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="${o}" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  `}function v(t){return String(t).padStart(2,"0")}g.addEventListener("click",(function(t){t.preventDefault();const e=t.target;e.classList.contains("upcoming-btn-add-span")?function(t){const e=t.target.parentNode;e.style.display="none";e.nextElementSibling.style.display="block"}(t):e.classList.contains("upcoming-btn-remove-span")&&function(t){const e=t.target.parentNode;e.style.display="none";e.previousElementSibling.style.display="block"}(t)})),async function(){const t=(await h()).results,e=(t[Math.floor(Math.random()*t.length)].id,await async function(t){try{return(await d.default.request(m)).data.genres}catch(t){return console.log(t),[]}}());0===e.length?g.innerHTML=b(t,[]):(!function(t,e){const n=[];t.forEach((t=>{const i=[];t.genre_ids.forEach((t=>{const n=e.find((e=>e.id===t));n&&i.push(n.name)})),n.push(i.join(", "))}))}(t,e),g.innerHTML=b(t,e))}();d=i("2shzp");const f=document.querySelector(".weekly_content");console.log((()=>{try{return d.default.get("https://api.themoviedb.org/3/trending/movie/week?language=en-US&api_key=e80fd9fb75f14049ed52c4547080278b").then((t=>function(t){let e=t.map((t=>`<div class="card">\n    <img class="test_img" src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.title}">\n    <div class="card_titles">\n    <p class="card_sup_title">${t.title}</p>\n    <p class="card_sub_title">${t.release_date.slice(0,4)}</p>\n  </div>\n    </div>`)).join("");f.insertAdjacentHTML("beforeend",e)}(t.data.results.slice(0,1))))}catch(t){console.log("error"+t)}})());const y=document.querySelector(".scroll-up-btn");window.addEventListener("scroll",(function(){window.pageYOffset>300?y.style.display="block":y.style.display="none"})),y.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));
//# sourceMappingURL=index.a304c361.js.map
