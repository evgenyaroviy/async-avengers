{"mappings":"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","sources":["src/index.js","src/js/pages/home/monthly_trends.js","src/js/pages/home/weekly_trends.js","src/js/components/team.js"],"sourcesContent":["import './js/pages/header';\nimport './js/pages/hero';\nimport './js/pages/home/monthly_trends';\nimport './js/pages/home/weekly_trends';\nimport './js/galleryMarkup';\nimport './js/request';\nimport './js/components/modal';\nimport './js/pages/footer';\nimport './js/components/scrollUp';\nimport './js/components/loader';\nimport './js/components/team';","import axios from 'axios';\nimport { optionsUpcoming } from '../../request';\nimport { optionsGenre } from '../../request';\nimport { toggleLoader } from '../../components/loader';\nimport {\n  removeFromLocalStorage,\n  addToLocalStorage,\n  moviesIdList,\n  MOVIES_LIST_KEY,\n} from '../../components/localStorageBtn';\n\nconst containerMovie = document.querySelector('.container-upcoming-movie');\n\nasync function fetchUpcomingMovie() {\n  try {\n    toggleLoader(true);\n    const response = await axios.request(optionsUpcoming);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    containerMovie.innerHTML = markupError();\n  } finally {\n    toggleLoader(false);\n  }\n}\nasync function fetchGenresMovie(id) {\n  try {\n    const genres = await axios.request(optionsGenre);\n    return genres.data.genres;\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\n\n\nfunction createRandomMovies(movieInfo) {\n\n  const currentDate = new Date();\n  const year = currentDate.getFullYear();\n  const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n  const startOfMonth = `${year}-${month}-01`;\n  const endOfMonth = `${year}-${month}-31`;\n\n  const filteredMovies = movieInfo.filter(\n    movie =>\n      movie.release_date >= startOfMonth && movie.release_date <= endOfMonth\n  );\n  const randomIndexFilm = Math.floor(Math.random() * filteredMovies.length);\n  const randomMovieFilm = [filteredMovies[randomIndexFilm]];\n  return randomMovieFilm;\n}\nasync function responseUpcoming() {\n  try {\ntoggleLoader(true)\n    const data = await fetchUpcomingMovie();\n    const movieInfo = data.results;\n    const randomIndex = Math.floor(Math.random() * movieInfo.length);\n    const randomMovie = movieInfo[randomIndex];\n    const id = randomMovie.id;\n    const genres = await fetchGenresMovie(id);\n    const randomMovieFilm = createRandomMovies(movieInfo);\n    \n    //local\n    // BUTTON//\n    containerMovie.addEventListener('click', onClickAddToLocalStorage);\n\n    function onClickAddToLocalStorage(event) {\n      event.preventDefault();\n\n      const target = event.target;\n      if (target.classList.contains('upcoming-btn-add-span')) {\n\n        randomMovieFilm.forEach(e => {\n          const genre = genres.find(genre => genre.id == e.genre_ids[0]);\n          e.genre_name = genre ? genre.name : '';\n        });\n        addToLocalStorage(event, randomMovieFilm);\n      } else if (target.classList.contains('upcoming-btn-remove-span')) {\n        removeFromLocalStorage(event, randomMovieFilm);\n      }\n    }\n    //local\n    if (genres.length === 0) {\n      containerMovie.innerHTML = createMarkupUpcoming(randomMovieFilm, []);\n    } else {\n      generateGenres(movieInfo, genres);\n      containerMovie.innerHTML = createMarkupUpcoming(randomMovieFilm, genres);\n    }\n  } finally {\ntoggleLoader(false);\n  }\n}\n\nfunction generateGenres(movieInfo, genres) {\n  const genresName = [];\n  movieInfo.forEach(movie => {\n    const genreNames = [];\n    movie.genre_ids.forEach(genreId => {\n      const genre = genres.find(genre => genre.id === genreId);\n      if (genre) {\n        genreNames.push(genre.name);\n      }\n    });\n    genresName.push(genreNames.join(', '));\n  });\n}\n\nfunction createMarkupUpcoming(movieInfo, genres) {\n\n  const {\n    id: idMovie,\n    backdrop_path,\n    poster_path,\n    original_title,\n    release_date,\n    vote_average,\n    vote_count,\n    popularity,\n    genre_ids,\n    overview,\n  } = movieInfo[0];\n\n  const releaseDay = addLeadingZero(new Date(release_date).getDate());\n  const releaseMonth = addLeadingZero(new Date(release_date).getMonth() + 1);\n  const releaseYear = new Date(release_date).getFullYear();\n\n  let poster = null;\n\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth <= 767 && poster_path) {\n    poster = `https://image.tmdb.org/t/p/original/${poster_path}`;\n  } else if (backdrop_path) {\n    poster = `https://image.tmdb.org/t/p/original/${backdrop_path}`;\n  } else {\n    poster = `https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png`;\n  }\n\n  const roundedPopularity = popularity.toFixed(1);\n\n  const genreNames = genre_ids.map(genreId => {\n    const genre = genres.find(genre => genre.id === genreId);\n    return genre ? genre.name : '';\n  });\n\n  return `\n    <img width=\"280\" height=\"402\" class=\"upcoming-image\" loading=\"lazy\" src=\"${poster}\" alt=\"${original_title}\">\n    <div class=\"info-container\" >\n    <h3 class=\"upcoming-movie-title\">${original_title}</h3>\n    <ul class=\"upcoming-list-details list\">\n      <li class=\"upcoming-list-details-item\">\n        <p class=\"upcoming-list-details-subtitle\">Release date</p>\n        <p class=\"upcoming-realese-date\">${releaseDay}.${releaseMonth}.${releaseYear}</p>\n      </li>\n      <li class=\"upcoming-list-details-item\">\n        <p class=\"upcoming-list-details-subtitle\">Vote / Votes</p>\n        <p class=\"upcoming-votes\"><span>${vote_average}</span> / <span>${vote_count}</span></p>\n      </li>\n      <li class=\"upcoming-list-details-item\">\n        <p class=\"upcoming-list-details-subtitle\">Popularity</p>\n        <p class=\"upcoming-popularity\">${roundedPopularity}</p>\n      </li>\n      <li class=\"upcoming-list-details-item\">\n        <p class=\"upcoming-list-details-subtitle\">Genre</p>\n        <p class=\"genre\">${genreNames.join(', ')}</p>\n      </li>\n    </ul>\n    <h4 class=\"upcoming-about\">ABOUT</h4>\n    <p class=\"upcoming-about-text\">${overview}</p>\n    <button class=\"btn upcoming-btn-add btn-accent\" data-id=\"${idMovie}\" type=\"button\">\n    <span class=\"btn-in upcoming-btn-add-span\" >Add to my library</span></button>\n    <button class=\"btn upcoming-btn-remove btn-dark\" data-id=\"${idMovie}\" hidden  type=\"button\">\n    <span class=\"btn-in upcoming-btn-remove-span\"  >Remove from my library</span></button>\n    </div>\n  `;\n}\n\n// ERROR//\n\nfunction markupError() {\n  console.log('hello');\n  return `      \n<h2 class=\"upcoming-error\">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>`;\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nresponseUpcoming();\n","import axios from 'axios';\nimport { galleryMarkup } from '../../galleryMarkup';\nimport { optionsGenre, optionsWeek } from '../../request';\n\nconst CARD_BLOCK = document.querySelector('.movies-container');\nconst getResponce = async () => {\n  try {\n    const res = axios.request(optionsWeek);\n    return res.then(res => {\n      if (window.screen.width <= 768) {\n        createMarkup(res.data.results.slice(0, 1));\n        getGenres(res.data.results.slice(0, 1));\n      } else {\n        createMarkup(res.data.results.slice(0, 3));\n        // generateGenres(res.data.results.slice(0, 1), getGenres);\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\ngetResponce();\nasync function createMarkup(data) {\n  const genres = await fetchGenresMovie();\n  data.forEach(e => {\n    const genre = genres.find(genre => genre.id == e.genre_ids[0]);\n    e.genre_name = genre ? genre.name : '';\n  });\n  CARD_BLOCK.innerHTML = galleryMarkup(data);\n}\n\nasync function fetchGenresMovie() {\n  try {\n    const response = await axios.request(optionsGenre);\n    return response.data.genres;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { scrollBtn } from \"./scrollUp\";\nconst btnCloseTeam = document.querySelector('.team-close-btn');\nconst teamModal = document.querySelector('.team-modal');\nconst footerBtn = document.querySelector('.footer__btn');\nconst backdrop = document.querySelector('.backdrop-team');\n\nfooterBtn.addEventListener('click', showTeamModal);\nbtnCloseTeam.addEventListener('click', hideTeamModal);\nbackdrop.addEventListener('click', hideTeamModal);\n\nfunction showTeamModal(e) {\n    e.preventDefault();\n    teamModal.classList.add('is-visible');\n    backdrop.classList.add('is-visible');\n    document.body.style.overflow = 'hidden';\n    teamModal.style.overflow = 'auto';\n    scrollBtn.style.display = \"none\"\n}\n \nfunction hideTeamModal(e) {\n    e.preventDefault();\n    teamModal.classList.remove('is-visible');\n     backdrop.classList.remove('is-visible');\n    document.body.style.overflow = 'auto';\n     scrollBtn.style.display = 'block';\n}\n\n\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    hideTeamModal(e);\n  }\n});"],"names":["parcelRequire","$2shzp","$db4dcec9f7e39aa5$var$containerMovie","document","querySelector","async","$db4dcec9f7e39aa5$var$fetchUpcomingMovie","$adAgQ","toggleLoader","default","request","$e5MbR","optionsUpcoming","data","error","console","innerHTML","log","$db4dcec9f7e39aa5$var$createMarkupUpcoming","movieInfo","genres","id","idMovie","backdrop_path","poster_path","original_title","release_date","vote_average","vote_count","popularity","genre_ids","overview","releaseDay","$db4dcec9f7e39aa5$var$addLeadingZero","Date","getDate","releaseMonth","getMonth","releaseYear","getFullYear","poster","window","innerWidth","toFixed","map","genreId","genre3","find","genre","name","join","value","String","padStart","results","randomIndex","Math","floor","random","length","optionsGenre","$db4dcec9f7e39aa5$var$fetchGenresMovie","randomMovieFilm","currentDate","year","month","startOfMonth","endOfMonth","filteredMovies","filter","movie","$db4dcec9f7e39aa5$var$createRandomMovies","addEventListener","event","preventDefault","target","classList","contains","forEach","e","genre1","genre_name","$3l4pm","addToLocalStorage","removeFromLocalStorage","genresName","genreNames","genre2","push","$db4dcec9f7e39aa5$var$generateGenres","$db4dcec9f7e39aa5$var$responseUpcoming","$f3f8ccbc0519c503$var$CARD_BLOCK","$f3f8ccbc0519c503$var$createMarkup","$f3f8ccbc0519c503$var$fetchGenresMovie","$isemc","galleryMarkup","optionsWeek","then","res","screen","width","slice","getGenres","$f3f8ccbc0519c503$var$getResponce","$kKdoG","$ca7ba36154bc900a$var$btnCloseTeam","$ca7ba36154bc900a$var$teamModal","$ca7ba36154bc900a$var$footerBtn","$ca7ba36154bc900a$var$backdrop","$ca7ba36154bc900a$var$hideTeamModal","remove","body","style","overflow","scrollBtn","display","add","key"],"version":3,"file":"index.c34837b8.js.map"}