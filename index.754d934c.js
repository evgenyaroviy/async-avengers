var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequire5523;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var o={id:e,exports:{}};return n[e]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){t[e]=n},e.parcelRequire5523=a),a("kedjx"),a("exJDH");var o=a("2shzp"),i=a("e5MbR"),s=(i=a("e5MbR"),a("adAgQ")),l=a("3l4pm");const r=document.querySelector(".container-upcoming-movie");function c(e,n){const{id:t,backdrop_path:a,poster_path:o,original_title:i,release_date:s,vote_average:l,vote_count:r,popularity:c,genre_ids:d,overview:u}=e,g=(m=s,`${p(new Date(m).getDate())}.${p(new Date(m).getMonth()+1)}.${new Date(m).getFullYear()}`);var m;let b=null;b=window.innerWidth<=767&&o?`https://image.tmdb.org/t/p/original/${o}`:a?`https://image.tmdb.org/t/p/original/${a}`:"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";return`\n    <img width="280" height="402" class="upcoming-image" loading="lazy" src="${b}" alt="${i}">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">${i}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${g}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${l}</span> / <span>${r}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${c.toFixed(1)}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${d.map((e=>{const t=n.find((n=>n.id===e));return t?t.name:""})).join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${u}</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="${t}" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="${t}" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  `}function d(){return console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>'}function p(e){return String(e).padStart(2,"0")}!async function(){try{(0,s.toggleLoader)(!0);const e=(await async function(){try{return(0,s.toggleLoader)(!0),(await o.default.request(i.optionsUpcoming)).data}catch(e){console.error(e),r.innerHTML=d()}finally{(0,s.toggleLoader)(!1)}}()).results,n=function(e){const n=new Date,t=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),o=`${t}-${a}-01`,i=`${t}-${a}-31`,s=e.filter((e=>e.release_date>=o&&e.release_date<=i));return s[Math.floor(Math.random()*s.length)]}(e),t=await async function(e){try{return(await o.default.request(i.optionsGenre)).data.genres}catch(e){return console.log(e),[]}}(n.id);0===t.length?r.innerHTML=c(n,[]):(!function(e,n){e.map((e=>e.genre_ids.map((e=>{const t=n.find((n=>n.id===e));return t?t.name:""})).join(", ")))}(e,t),r.innerHTML=c(n,t));const a=l.moviesIdList.find((e=>e.id===n.id)),p=document.querySelector(".upcoming-btn-add"),u=document.querySelector(".upcoming-btn-remove");a?(p.style.display="none",u.style.display="block"):(u.style.display="none",p.style.display="block"),r.addEventListener("click",(function(e){e.preventDefault();const t=e.target;t.classList.contains("upcoming-btn-add-span")?(0,l.addToLocalStorage)(e,n):t.classList.contains("upcoming-btn-remove-span")&&(0,l.removeFromLocalStorage)(e,n)}))}catch(e){console.log(e),d()}finally{(0,s.toggleLoader)(!1)}}();o=a("2shzp");var u=a("isemc");i=a("e5MbR");const g=document.querySelector(".movies-container");async function m(e){const n=await async function(){try{return(await o.default.request(i.optionsGenre)).data.genres}catch(e){console.log(e)}}();e.forEach((e=>{const t=n.find((n=>n.id==e.genre_ids[0]));e.genre_name=t?t.name:""})),g.innerHTML=(0,u.galleryMarkup)(e)}(async()=>{try{o.default.request(i.optionsWeek).then((e=>{window.screen.width<=768?(m(e.data.results.slice(0,1)),getGenres(e.data.results.slice(0,1))):m(e.data.results.slice(0,3))}))}catch(e){console.log(e)}})(),a("isemc"),a("e5MbR"),a("8IXMh"),a("7WYWT"),a("kKdoG"),a("adAgQ"),a("hnOlx");
//# sourceMappingURL=index.754d934c.js.map
