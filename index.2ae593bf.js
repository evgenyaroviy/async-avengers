!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},a={},r=t.parcelRequire5523;null==r&&((r=function(n){if(n in e)return e[n].exports;if(n in a){var t=a[n];delete a[n];var r={id:n,exports:{}};return e[n]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,t){a[n]=t},t.parcelRequire5523=r),r("bZqJx"),r("7VwOu");var i=r("bpxeT"),o=r("2TvXO"),s=r("dIxxU"),c=r("944jd"),l=(c=r("944jd"),r("iPy5Q")),u=document.querySelector(".container-upcoming-movie");function p(){return d.apply(this,arguments)}function d(){return(d=n(i)(n(o).mark((function t(){var e;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(0,l.showLoader)(),n.next=4,s.default.request(c.optionsUpcoming);case 4:return e=n.sent,n.abrupt("return",e.data);case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0),u.innerHTML=b();case 12:return n.prev=12,(0,l.hideLoader)(),n.finish(12);case 15:case"end":return n.stop()}}),t,null,[[0,8,12,15]])})))).apply(this,arguments)}function g(n){return f.apply(this,arguments)}function f(){return(f=n(i)(n(o).mark((function t(e){var a;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.default.request(c.optionsGenre);case 3:return a=n.sent,n.abrupt("return",a.data.genres);case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",[]);case 11:case"end":return n.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function m(){return(m=n(i)(n(o).mark((function t(){var e,a,r,i,s,c;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(0,l.showLoader)(),n.next=4,p();case 4:return e=n.sent,a=e.results,r=Math.floor(Math.random()*a.length),i=a[r],s=i.id,n.next=11,g(s);case 11:0===(c=n.sent).length?u.innerHTML=v(a,[]):(h(a,c),u.innerHTML=v(a,c));case 13:return n.prev=13,(0,l.hideLoader)(),n.finish(13);case 16:case"end":return n.stop()}}),t,null,[[0,,13,16]])})))).apply(this,arguments)}function h(n,t){var e=[];n.forEach((function(n){var a=[];n.genre_ids.forEach((function(n){var e=t.find((function(t){return t.id===n}));e&&a.push(e.name)})),e.push(a.join(", "))}))}function v(n,t){var e=new Date,a=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i="".concat(a,"-").concat(r,"-01"),o=n.filter((function(n){return n.release_date>=i})),s=o[Math.floor(Math.random()*o.length)],c=s.id,l=s.backdrop_path,u=s.poster_path,p=s.original_title,d=s.release_date,g=s.vote_average,f=s.vote_count,m=s.popularity,h=s.genre_ids,v=s.overview,b=y(new Date(d).getDate()),w=y(new Date(d).getMonth()+1),x=new Date(d).getFullYear(),M=null;M=window.innerWidth<=767&&u?"https://image.tmdb.org/t/p/original/".concat(u):l?"https://image.tmdb.org/t/p/original/".concat(l):"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";var _=m.toFixed(1),L=h.map((function(n){var e=t.find((function(t){return t.id===n}));return e?e.name:""}));return'\n    <img width="280" height="402" class="upcoming-image"  src="'.concat(M,'" alt="').concat(p,'">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">').concat(p,'</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">').concat(b,".").concat(w,".").concat(x,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>').concat(g,"</span> / <span>").concat(f,'</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">').concat(_,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">').concat(L.join(", "),'</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">').concat(v,'</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="').concat(c,'" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="').concat(c,'" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  ')}function b(){return console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>'}function y(n){return String(n).padStart(2,"0")}u.addEventListener("click",(function(n){n.preventDefault();var t=n.target;t.classList.contains("upcoming-btn-add-span")?(e=n,a=e.target.parentNode,a.style.display="none",a.nextElementSibling.style.display="block"):t.classList.contains("upcoming-btn-remove-span")&&function(n){var t=n.target.parentNode;t.style.display="none",t.previousElementSibling.style.display="block"}(n);var e,a})),function(){m.apply(this,arguments)}();i=r("bpxeT"),o=r("2TvXO"),s=r("dIxxU");var w,x=r("F0m9M"),M=(c=r("944jd"),document.querySelector(".movies-container")),_=(w=n(i)(n(o).mark((function t(){var e;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=s.default.request(c.optionsWeek),n.abrupt("return",e.then((function(n){window.screen.width<=768?L(n.data.results.slice(0,1)):L(n.data.results.slice(0,3))})));case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),t,null,[[0,5]])}))),function(){return w.apply(this,arguments)});function L(n){M.insertAdjacentHTML("beforeend",(0,x.galleryMarkup)(n))}_(),r("F0m9M"),r("944jd"),r("8BR1R"),r("4xv1d"),r("2SYxc"),r("iPy5Q")}();
//# sourceMappingURL=index.2ae593bf.js.map
