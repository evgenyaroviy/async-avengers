var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire5523;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequire5523=o),o("kedjx"),o("exJDH");var a=o("2shzp"),s=o("e5MbR"),i=(s=o("e5MbR"),o("adAgQ")),l=o("3l4pm");const r=document.querySelector(".container-upcoming-movie");function c(e,t){const{id:n,backdrop_path:o,poster_path:a,original_title:s,release_date:i,vote_average:l,vote_count:r,popularity:c,genre_ids:d,overview:p}=e,g=(m=i,`${u(new Date(m).getDate())}.${u(new Date(m).getMonth()+1)}.${new Date(m).getFullYear()}`);var m;let y=null;y=window.innerWidth<=767&&a?`https://image.tmdb.org/t/p/original/${a}`:o?`https://image.tmdb.org/t/p/original/${o}`:"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";return`\n    <img width="280" height="402" class="upcoming-image" loading="lazy" src="${y}" alt="${s}">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">${s}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${g}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${l}</span> / <span>${r}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${c.toFixed(1)}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${d.map((e=>{const n=t.find((t=>t.id===e));return n?n.name:""})).join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${p}</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="${n}" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="${n}" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  `}function d(){return console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>'}function u(e){return String(e).padStart(2,"0")}!async function(){try{(0,i.toggleLoader)(!0);const e=(await async function(){try{return(0,i.toggleLoader)(!0),(await a.default.request(s.optionsUpcoming)).data}catch(e){console.error(e),r.innerHTML=d()}finally{(0,i.toggleLoader)(!1)}}()).results,t=function(e){const t=new Date,n=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),a=`${n}-${o}-01`,s=`${n}-${o}-31`,i=e.filter((e=>e.release_date>=a&&e.release_date<=s));return i[Math.floor(Math.random()*i.length)]}(e),n=await async function(e){try{return(await a.default.request(s.optionsGenre)).data.genres}catch(e){return console.log(e),[]}}(t.id);0===n.length?r.innerHTML=c(t,[]):(!function(e,t){e.map((e=>e.genre_ids.map((e=>{const n=t.find((t=>t.id===e));return n?n.name:""})).join(", ")))}(e,n),r.innerHTML=c(t,n));const o=l.moviesIdList.find((e=>e.id===t.id)),u=document.querySelector(".upcoming-btn-add"),p=document.querySelector(".upcoming-btn-remove");o?(u.style.display="none",p.style.display="block"):(p.style.display="none",u.style.display="block"),r.addEventListener("click",(function(e){e.preventDefault();const n=e.target;n.classList.contains("upcoming-btn-add-span")?(0,l.addToLocalStorage)(e,t):n.classList.contains("upcoming-btn-remove-span")&&(0,l.removeFromLocalStorage)(e,t)}))}catch(e){console.log(e),d()}finally{(0,i.toggleLoader)(!1)}}();a=o("2shzp");var p=o("isemc");s=o("e5MbR");const g=document.querySelector(".movies-container");async function m(e){const t=await async function(){try{return(await a.default.request(s.optionsGenre)).data.genres}catch(e){console.log(e)}}();e.forEach((e=>{const n=t.find((t=>t.id==e.genre_ids[0]));e.genre_name=n?n.name:""})),g.innerHTML=(0,p.galleryMarkup)(e)}(async()=>{try{a.default.request(s.optionsWeek).then((e=>{window.screen.width<=768?(m(e.data.results.slice(0,1)),getGenres(e.data.results.slice(0,1))):m(e.data.results.slice(0,3))}))}catch(e){console.log(e)}})(),o("isemc"),o("e5MbR"),o("8IXMh"),o("7WYWT"),o("kKdoG"),o("adAgQ");var y=o("kKdoG");const b=document.querySelector(".team-close-btn"),f=document.querySelector(".team-modal"),v=document.querySelector(".footer__btn"),h=document.querySelector(".backdrop-team");function w(e){e.preventDefault(),f.classList.remove("is-visible"),h.classList.remove("is-visible"),document.body.style.overflow="auto",y.scrollBtn.style.display="block"}v.addEventListener("click",(function(e){e.preventDefault(),f.classList.add("is-visible"),h.classList.add("is-visible"),document.body.style.overflow="hidden",f.style.overflow="auto",y.scrollBtn.style.display="none"})),b.addEventListener("click",w),h.addEventListener("click",w),window.addEventListener("keydown",(e=>{"Escape"===e.key&&w(e)}));
//# sourceMappingURL=index.0cfbb287.js.map
