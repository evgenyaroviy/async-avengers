{"mappings":"iiBAAAA,EAAA,S,iCCaeC,SAASC,cAAc,gBACtBD,SAASC,cAAc,iBADvC,ICbAC,EAAAH,EAAA,S,oDAMMI,EAAmBH,SAASC,cAAc,qB,SAIjCG,I,OAAAA,EAAfC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,IACQC,EACAC,EAEAC,E,kFAHaC,EAPH,G,cAOVH,EAAII,EAAAC,KACJJ,EAAYD,EAAKM,Q,SAEFC,I,OAAfL,EAAME,EAAAC,KAEZJ,EAAUO,SAAQ,SAAAC,GAChB,IAAMC,EAAQR,EAAOS,MAAK,SAAAC,G,OAASA,EAAMC,IAAMJ,EAAEK,UAAU,E,IAC3DL,EAAEM,WAAaL,EAAQA,EAAMM,KAAO,E,IAGtCtB,EAAiBuB,WAAY,EAAAC,EAAAC,eAAclB,G,4CAXVmB,MAAAC,KAAAC,U,UAcpBnB,EAAkBoB,G,OAAlBC,EAAiBJ,MAAAC,KAAAC,U,UAAjBE,I,OAAAA,EAAf5B,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,EAAiCwB,G,IAGzBE,EAWEC,E,wEAZN,sNACID,EAAc,CAClBE,OAAQ,MACRC,IAAK,mDACLC,OAAQ,CAAEC,SAAU,QAASC,KAAMR,GACnCS,QAAS,CACPC,OAAQ,mBACRC,cAAe,UAAqBC,OAPtC,yN,kBAYuBC,EAAAC,QAAMC,QAAQb,G,cAA/BC,EAAQtB,EAAAC,K,kBACPqB,EAAS1B,M,gCAEhBuC,QAAQC,MAAKpC,EAAAqC,I,0DAjBerB,MAAAC,KAAAC,U,UAqBjBf,I,OAAAmC,EAAgBtB,MAAAC,KAAAC,U,UAAhBoB,I,OAAAA,EAAf9C,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,IAEU2B,E,2FAAiBU,EAAAC,QAAMC,QAAQK,EAAAC,c,cAA/BlB,EAAQtB,EAAAC,K,kBACPqB,EAAS1B,KAAKE,Q,gCAErBqC,QAAQM,IAAGzC,EAAAqC,I,0DALgBrB,MAAAC,KAAAC,U,aAnChB3B,EAAoByB,MAAAC,KAAAC,U,CAFnCwB,G","sources":["src/catalog.js","src/js/pages/catalog/search.js","src/js/pages/catalog/gallery.js"],"sourcesContent":["import './js/pages/header';\nimport './js/pages/hero';\nimport './js/pages/catalog/search';\nimport './js/pages/catalog/gallery';\nimport './js/pages/catalog/pagination';\nimport './js/galleryMarkup';\nimport './js/request';\nimport './js/components/modal';\nimport './js/pages/footer';\nimport './js/components/scrollUp';","import axios from 'axios';\n\nimport {\n  optionsWeek,\n  optionsUpcoming,\n  optionsSearch,\n  optionsDetails,\n  optionsVideos,\n  optionsGenre,\n} from '../../request.js';\n\nimport { galleryMarkup } from '../../galleryMarkup';\n\nconst formEl = document.querySelector('#search-form');\nconst inputEl = document.querySelector('.search-field');\n\n// function handleSubmitForm(event) {\n//   event.preventDefault();\n\n//   // clearMarkup();\n//   // page = 1;\n\n//   if (inputEl.value.trim() === '') {\n//     alert(\n//       'Sorry, there are no moves matching your search query. Please try again.'\n//     );\n//     return;\n//   } else {\n//     try {\n//       axios\n//         .request(optionsWeek)\n//         .then(function (response) {\n//           console.log(response.data);\n//           return response.data;\n//         })\n//         .then(data => {\n//           if (data.results.length === 20) {\n//             alert(\n//               'Sorry, there are no moves matching your search query. Please try again.'\n//             );\n//           }\n//         })\n//         .catch(function (error) {\n//           console.error(error);\n//         });\n//     } catch (error) {\n//       alert('Sorry, something went wrong. Try again later.');\n//     }\n//   }\n// }\n// if (data.totalHits > page) {\n//   observer.observe(guard);\n// }\n\n// } else {\n//       galleryMarkup(data.hits);\n//       Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`);\n//     }\n//   } catch (error) {\n//     Notiflix.Notify.failure('Sorry, something went wrong. Try again later.');\n//   }\n// }\n\n// function handlePagination(entries, observer) {\n//   try {\n//     entries.forEach(entry => {\n//       if (entry.isIntersecting) {\n//         page += 1;\n//         fetchImages(inputEl.value, page, limit).then(data => {\n//           galleryMarkup(data.hits);\n\n//           if (data.totalHits <= page * limit) {\n//             observer.unobserve(guard);\n//             setTimeout(() => {\n//               Notiflix.Notify.info(\n//                 \"We're sorry, but you've reached the end of search results.\"\n//               );\n//             }, 2000);\n//           }\n//         });\n//       }\n//     });\n//   } catch (error) {\n//     Notiflix.Notify.failure('Sorry, something went wrong. Try again later.');\n//   }\n// }\n\n// function galleryMarkup(fetchedImages) {\n//   const markup = fetchedImages\n//     .map(\n//       image => `\n//         <div style=\"flex-basis: 360px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.54);\n// -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.54);\n// -moz-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.54);\">\n//           <a class=\"gallery-link\" href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" style=\"display: block; width: 100%; height: 220px\"></a>\n//           <ul style=\"display: flex; list-style: none; justify-content: space-evenly; padding-left: 0\">\n//             <li style=\"text-align: center; height: 50px\"><b>Likes</b><p>${image.likes}</p></li>\n//             <li style=\"text-align: center; height: 50px\"><b>Views</b><p>${image.views}</p></li>\n//             <li style=\"text-align: center; height: 50px\"><b>Comments</b><p>${image.comments}</p></li>\n//             <li style=\"text-align: center; height: 50px\"><b>Downloads</b><p>${image.downloads}</p></li>\n//           </ul>\n//         </div>\n//       `\n//     )\n//     .join('');\n\n//   galleryContainer.style.display = 'flex';\n//   galleryContainer.style.justifyContent = 'center';\n//   galleryContainer.style.flexWrap = 'wrap';\n//   galleryContainer.style.columnGap = '20px';\n//   galleryContainer.style.rowGap = '20px';\n//   galleryContainer.insertAdjacentHTML('beforeend', markup);\n\n//   refreshLightbox();\n// }\n\n// function clearMarkup() {\n//   galleryContainer.innerHTML = '';\n// }\n\n// function refreshLightbox() {\n//   if (lightbox) {\n//     lightbox.refresh();\n//   } else {\n//     lightbox = new SimpleLightbox('.gallery-link', {\n//       captionDelay: 250,\n//       animationSlide: false,\n//     });\n//   }\n// }\n","import axios from 'axios'; \nimport { galleryMarkup } from '../../galleryMarkup';\nimport { optionsGenre } from '../../request';\n\nlet currentPage = 1; \n \nconst galleryContainer = document.querySelector('.movies-container'); \n \nresponseWeeklytrends(); \n \nasync function responseWeeklytrends() { \n  const data = await fetchWeeklytrends(currentPage); \n  const moviesArr = data.results;\n  \n  const genres = await fetchGenresMovie(); \n  \n  moviesArr.forEach(e => { \n    const genre = genres.find(genre => genre.id == e.genre_ids[0]); \n    e.genre_name = genre ? genre.name : ''; \n  });\n  \n  galleryContainer.innerHTML = galleryMarkup(moviesArr); \n} \n \nasync function fetchWeeklytrends(currentPage) {\n  const ACCESS_KEY =\n    'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOTZiN2ExNTYwNGYwMmExYWNkMTVhNWJlY2JmMjQ4MCIsInN1YiI6IjY0ODNhYTBhOTkyNTljMDBlMmY0NWE4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._Sdbi-2PalUFAI7K7hzIv-hc4p92EU6q_yg6_IJJHjA';\n  const optionsWeek = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/movie/week',\n    params: { language: 'en-US', page: currentPage },\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${ACCESS_KEY}`,\n    },\n  };\n\n  try {\n    const response = await axios.request(optionsWeek);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n} \n \nasync function fetchGenresMovie() { \n  try { \n    const response = await axios.request(optionsGenre); \n    return response.data.genres; \n  } catch (error) { \n    console.log(error); \n  } \n} \n"],"names":["parcelRequire","document","querySelector","$bpxeT","$269debb668f361b9$var$galleryContainer","$269debb668f361b9$var$_responseWeeklytrends","$parcel$interopDefault","$2TvXO","mark","_callee","data","moviesArr","genres","$269debb668f361b9$var$fetchWeeklytrends","_ctx","sent","results","$269debb668f361b9$var$fetchGenresMovie","forEach","e","genre1","find","genre","id","genre_ids","genre_name","name","innerHTML","$F0m9M","galleryMarkup","apply","this","arguments","currentPage1","$269debb668f361b9$var$_fetchWeeklytrends","optionsWeek","response","method","url","params","language","page","headers","accept","Authorization","concat","$dIxxU","default","request","console","error","t0","$269debb668f361b9$var$_fetchGenresMovie","$944jd","optionsGenre","log","$269debb668f361b9$var$responseWeeklytrends"],"version":3,"file":"catalog.63b508c3.js.map"}