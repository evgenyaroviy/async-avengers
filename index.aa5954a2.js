!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=e.parcelRequire5523;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){a[t]=e},e.parcelRequire5523=i);var r=document.querySelector(".mob-menu-btn"),o=document.querySelector(".mobile-backdrop");r.addEventListener("click",(function(){o.classList.toggle("is-open")})),o.addEventListener("click",(function(t){t.target.classList.remove("is-open")})),window.matchMedia("(min-width: 768px)").addEventListener("change",(function(t){t.matches&&o.classList.remove("is-open")}));var c=document.body,s=document.querySelector(".theme"),l=document.querySelector(".theme__switch");c.classList.add("dark"),s.addEventListener("click",(function(){if(c.classList.contains("dark"))return c.classList.remove("dark"),c.classList.add("light"),l.classList.add("switchLight"),void l.classList.remove("switchDark");c.classList.remove("light"),c.classList.add("dark"),l.classList.add("switchDark"),l.classList.remove("switchLight")}));var u=document.querySelectorAll(".js-nav-link");window.addEventListener("load",(function(){var t=window.location.pathname;return u.forEach((function(e){e.getAttribute("href")===t&&e.classList.add("active-page")}))}));var p=i("bpxeT"),d=i("2TvXO"),m=i("dIxxU"),g="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOTZiN2ExNTYwNGYwMmExYWNkMTVhNWJlY2JmMjQ4MCIsInN1YiI6IjY0ODNhYTBhOTkyNTljMDBlMmY0NWE4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._Sdbi-2PalUFAI7K7hzIv-hc4p92EU6q_yg6_IJJHjA",h=("Bearer ".concat(g),{method:"GET",url:"https://api.themoviedb.org/3/movie/upcoming",params:{language:"en-US"},headers:{accept:"application/json",Authorization:"Bearer ".concat(g)}}),f=("Bearer ".concat(g),"Bearer ".concat(g),"Bearer ".concat(g),{method:"GET",url:"https://api.themoviedb.org/3/genre/movie/list",params:{language:"en"},headers:{accept:"application/json",Authorization:"Bearer ".concat(g)}}),v=document.querySelector(".container-upcoming-movie");function b(){return y.apply(this,arguments)}function y(){return(y=t(p)(t(d).mark((function e(){var n;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.default.request(h);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),v.innerHTML=E();case 11:case"end":return t.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(t){return L.apply(this,arguments)}function L(){return(L=t(p)(t(d).mark((function e(n){var a;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.default.request(f);case 3:return a=t.sent,t.abrupt("return",a.data.genres);case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _(){return(_=t(p)(t(d).mark((function e(){var n,a,i,r,o,c;return t(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:return n=t.sent,a=n.results,i=Math.floor(Math.random()*a.length),r=a[i],o=r.id,t.next=9,w(o);case 9:0===(c=t.sent).length?v.innerHTML=x(a,[]):(k(a,c),v.innerHTML=x(a,c));case 11:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function k(t,e){var n=[];t.forEach((function(t){var a=[];t.genre_ids.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n.name)})),n.push(a.join(", "))}))}function x(t,e){var n=new Date,a=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),r="".concat(a,"-").concat(i,"-01"),o=t.filter((function(t){return t.release_date>=r})),c=o[Math.floor(Math.random()*o.length)],s=c.id,l=c.backdrop_path,u=c.poster_path,p=c.original_title,d=c.release_date,m=c.vote_average,g=c.vote_count,h=c.popularity,f=c.genre_ids,v=c.overview,b=M(new Date(d).getDate()),y=M(new Date(d).getMonth()+1),w=new Date(d).getFullYear(),L=null;L=l?"https://image.tmdb.org/t/p/original/".concat(l):u?"https://image.tmdb.org/t/p/original/".concat(u):"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";var _=h.toFixed(1),k=f.map((function(t){var n=e.find((function(e){return e.id===t}));return n?n.name:""}));return'\n    <img class="upcoming-image" src="'.concat(L,'" alt="').concat(p,'">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">').concat(p,'</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">').concat(b,".").concat(y,".").concat(w,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>').concat(m,"</span> / <span>").concat(g,'</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">').concat(_,'</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">').concat(k.join(", "),'</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">').concat(v,'</p>\n    <button class="btn upcoming-btn-add btn-accent"  type="button">\n    <span class="btn-in upcoming-btn-add-span" data-id="').concat(s,'">Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span" data-id="').concat(s,'" >Remove from my library</span></button>\n    </div>\n  ')}function E(){return console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>'}function M(t){return String(t).padStart(2,"0")}v.addEventListener("click",(function(t){t.preventDefault();var e=t.target;e.classList.contains("upcoming-btn-add-span")?(n=t,a=n.target.parentNode,a.style.display="none",a.nextElementSibling.style.display="block"):e.classList.contains("upcoming-btn-remove-span")&&function(t){var e=t.target.parentNode;e.style.display="none",e.previousElementSibling.style.display="block"}(t);var n,a})),function(){_.apply(this,arguments)}();m=i("dIxxU");var S=document.querySelector(".weekly_content");console.log(function(){try{return m.default.get("https://api.themoviedb.org/3/trending/movie/week?language=en-US&api_key=".concat("e80fd9fb75f14049ed52c4547080278b")).then((function(t){return e=t.data.results.slice(0,1),n=e.map((function(t){return'<div class="card">\n    <img class="test_img" src="https://image.tmdb.org/t/p/w500'.concat(t.poster_path,'" alt="').concat(t.title,'">\n    <div class="card_titles">\n    <p class="card_sup_title">').concat(t.title,'</p>\n    <p class="card_sub_title">').concat(t.release_date.slice(0,4),"</p>\n  </div>\n    </div>")})).join(""),void S.insertAdjacentHTML("beforeend",n);var e,n}))}catch(t){console.log("error"+t)}}());var T=document.querySelector(".scroll-up-btn");window.addEventListener("scroll",(function(){window.pageYOffset>300?T.style.display="block":T.style.display="none"})),T.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}))}();
//# sourceMappingURL=index.aa5954a2.js.map
