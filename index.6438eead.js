var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},e={},i=n.parcelRequire5523;null==i&&((i=function(n){if(n in t)return t[n].exports;if(n in e){var i=e[n];delete e[n];var a={id:n,exports:{}};return t[n]=a,i.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(n,t){e[n]=t},n.parcelRequire5523=i),i("kedjx"),i("exJDH");var a=i("2shzp"),s=i("e5MbR"),o=(s=i("e5MbR"),i("adAgQ"));const l=document.querySelector(".container-upcoming-movie");async function r(){try{(0,o.showLoader)();return(await a.default.request(s.optionsUpcoming)).data}catch(n){console.error(n),l.innerHTML=(console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>')}finally{(0,o.hideLoader)()}}function c(n,t){const e=new Date,i=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-01`,a=n.filter((n=>n.release_date>=i)),s=a[Math.floor(Math.random()*a.length)],{id:o,backdrop_path:l,poster_path:r,original_title:c,release_date:d,vote_average:u,vote_count:g,popularity:m,genre_ids:h,overview:b}=s,f=p(new Date(d).getDate()),y=p(new Date(d).getMonth()+1),v=new Date(d).getFullYear();let w=null;w=window.innerWidth<=767&&r?`https://image.tmdb.org/t/p/original/${r}`:l?`https://image.tmdb.org/t/p/original/${l}`:"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";return`\n    <img width="280" height="402" class="upcoming-image"  src="${w}" alt="${c}">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">${c}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${f}.${y}.${v}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${u}</span> / <span>${g}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${m.toFixed(1)}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${h.map((n=>{const e=t.find((t=>t.id===n));return e?e.name:""})).join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${b}</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="${o}" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="${o}" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  `}function p(n){return String(n).padStart(2,"0")}l.addEventListener("click",(function(n){n.preventDefault();const t=n.target;t.classList.contains("upcoming-btn-add-span")?function(n){const t=n.target.parentNode;t.style.display="none";t.nextElementSibling.style.display="block"}(n):t.classList.contains("upcoming-btn-remove-span")&&function(n){const t=n.target.parentNode;t.style.display="none";t.previousElementSibling.style.display="block"}(n)})),async function(){try{(0,o.showLoader)();const n=(await r()).results,t=Math.floor(Math.random()*n.length),e=(n[t].id,await async function(n){try{return(await a.default.request(s.optionsGenre)).data.genres}catch(n){return console.log(n),[]}}());0===e.length?l.innerHTML=c(n,[]):(!function(n,t){const e=[];n.forEach((n=>{const i=[];n.genre_ids.forEach((n=>{const e=t.find((t=>t.id===n));e&&i.push(e.name)})),e.push(i.join(", "))}))}(n,e),l.innerHTML=c(n,e))}finally{(0,o.hideLoader)()}}();a=i("2shzp");var d=i("isemc");s=i("e5MbR");const u=document.querySelector(".movies-container");function g(n){u.insertAdjacentHTML("beforeend",(0,d.galleryMarkup)(n))}(async()=>{try{a.default.request(s.optionsWeek).then((n=>{window.screen.width<=768?g(n.data.results.slice(0,1)):g(n.data.results.slice(0,3))}))}catch(n){console.log(n)}})(),i("isemc"),i("e5MbR"),i("8IXMh"),i("7WYWT"),i("kKdoG"),i("adAgQ");
//# sourceMappingURL=index.6438eead.js.map
