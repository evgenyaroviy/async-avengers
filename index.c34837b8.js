var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire5523;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequire5523=a),a("kedjx"),a("exJDH");var o=a("2shzp"),s=a("e5MbR"),i=(s=a("e5MbR"),a("adAgQ")),l=a("3l4pm");const r=document.querySelector(".container-upcoming-movie");async function c(){try{(0,i.toggleLoader)(!0);return(await o.default.request(s.optionsUpcoming)).data}catch(e){console.error(e),r.innerHTML=(console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>')}finally{(0,i.toggleLoader)(!1)}}function d(e,t){const{id:n,backdrop_path:a,poster_path:o,original_title:s,release_date:i,vote_average:l,vote_count:r,popularity:c,genre_ids:d,overview:p}=e[0],g=u(new Date(i).getDate()),m=u(new Date(i).getMonth()+1),f=new Date(i).getFullYear();let b=null;b=window.innerWidth<=767&&o?`https://image.tmdb.org/t/p/original/${o}`:a?`https://image.tmdb.org/t/p/original/${a}`:"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";return`\n    <img width="280" height="402" class="upcoming-image" loading="lazy" src="${b}" alt="${s}">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">${s}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${g}.${m}.${f}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${l}</span> / <span>${r}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${c.toFixed(1)}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${d.map((e=>{const n=t.find((t=>t.id===e));return n?n.name:""})).join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${p}</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="${n}" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="${n}" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  `}function u(e){return String(e).padStart(2,"0")}!async function(){try{(0,i.toggleLoader)(!0);const e=(await c()).results,t=Math.floor(Math.random()*e.length),n=(e[t].id,await async function(e){try{return(await o.default.request(s.optionsGenre)).data.genres}catch(e){return console.log(e),[]}}()),a=function(e){const t=new Date,n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),o=`${n}-${a}-01`,s=`${n}-${a}-31`,i=e.filter((e=>e.release_date>=o&&e.release_date<=s));return[i[Math.floor(Math.random()*i.length)]]}(e);r.addEventListener("click",(function(e){e.preventDefault();const t=e.target;t.classList.contains("upcoming-btn-add-span")?(a.forEach((e=>{const t=n.find((t=>t.id==e.genre_ids[0]));e.genre_name=t?t.name:""})),(0,l.addToLocalStorage)(e,a)):t.classList.contains("upcoming-btn-remove-span")&&(0,l.removeFromLocalStorage)(e,a)})),0===n.length?r.innerHTML=d(a,[]):(!function(e,t){const n=[];e.forEach((e=>{const a=[];e.genre_ids.forEach((e=>{const n=t.find((t=>t.id===e));n&&a.push(n.name)})),n.push(a.join(", "))}))}(e,n),r.innerHTML=d(a,n))}finally{(0,i.toggleLoader)(!1)}}();o=a("2shzp");var p=a("isemc");s=a("e5MbR");const g=document.querySelector(".movies-container");async function m(e){const t=await async function(){try{return(await o.default.request(s.optionsGenre)).data.genres}catch(e){console.log(e)}}();e.forEach((e=>{const n=t.find((t=>t.id==e.genre_ids[0]));e.genre_name=n?n.name:""})),g.innerHTML=(0,p.galleryMarkup)(e)}(async()=>{try{o.default.request(s.optionsWeek).then((e=>{window.screen.width<=768?(m(e.data.results.slice(0,1)),getGenres(e.data.results.slice(0,1))):m(e.data.results.slice(0,3))}))}catch(e){console.log(e)}})(),a("isemc"),a("e5MbR"),a("8IXMh"),a("7WYWT"),a("kKdoG"),a("adAgQ");var f=a("kKdoG");const b=document.querySelector(".team-close-btn"),y=document.querySelector(".team-modal"),h=document.querySelector(".footer__btn"),v=document.querySelector(".backdrop-team");function w(e){e.preventDefault(),y.classList.remove("is-visible"),v.classList.remove("is-visible"),document.body.style.overflow="auto",f.scrollBtn.style.display="block"}h.addEventListener("click",(function(e){e.preventDefault(),y.classList.add("is-visible"),v.classList.add("is-visible"),document.body.style.overflow="hidden",y.style.overflow="auto",f.scrollBtn.style.display="none"})),b.addEventListener("click",w),v.addEventListener("click",w),window.addEventListener("keydown",(e=>{"Escape"===e.key&&w(e)}));
//# sourceMappingURL=index.c34837b8.js.map
