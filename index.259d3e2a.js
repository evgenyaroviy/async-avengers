var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},e={},i=n.parcelRequire5523;null==i&&((i=function(n){if(n in t)return t[n].exports;if(n in e){var i=e[n];delete e[n];var s={id:n,exports:{}};return t[n]=s,i.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,t){e[n]=t},n.parcelRequire5523=i),i("kedjx"),i("exJDH");var s=i("2shzp"),a=i("e5MbR");a=i("e5MbR");const o=document.querySelector(".loader");function l(){o.style.display="block"}function r(){o.style.display="none"}const c=document.querySelector(".container-upcoming-movie");async function p(){try{l();return(await s.default.request(a.optionsUpcoming)).data}catch(n){console.error(n),c.innerHTML=(console.log("hello"),'      \n<h2 class="upcoming-error">\nOOPS...<br>\nWe are very sorry!<br>\nSomething went wrong.</h2>')}finally{r()}}function u(n,t){const e=new Date,i=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-01`,s=n.filter((n=>n.release_date>=i)),a=s[Math.floor(Math.random()*s.length)],{id:o,backdrop_path:l,poster_path:r,original_title:c,release_date:p,vote_average:u,vote_count:g,popularity:m,genre_ids:b,overview:f}=a,h=d(new Date(p).getDate()),y=d(new Date(p).getMonth()+1),v=new Date(p).getFullYear();let w=null;w=window.innerWidth<=767&&r?`https://image.tmdb.org/t/p/original/${r}`:l?`https://image.tmdb.org/t/p/original/${l}`:"https://astoriamuseums.org/wp-content/uploads/2020/10/OFM-poster-not-available.png";return`\n    <img width="280" height="402" class="upcoming-image"  src="${w}" alt="${c}">\n    <div class="info-container" >\n    <h3 class="upcoming-movie-title">${c}</h3>\n    <ul class="upcoming-list-details list">\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Release date</p>\n        <p class="upcoming-realese-date">${h}.${y}.${v}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Vote / Votes</p>\n        <p class="upcoming-votes"><span>${u}</span> / <span>${g}</span></p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Popularity</p>\n        <p class="upcoming-popularity">${m.toFixed(1)}</p>\n      </li>\n      <li class="upcoming-list-details-item">\n        <p class="upcoming-list-details-subtitle">Genre</p>\n        <p class="genre">${b.map((n=>{const e=t.find((t=>t.id===n));return e?e.name:""})).join(", ")}</p>\n      </li>\n    </ul>\n    <h4 class="upcoming-about">ABOUT</h4>\n    <p class="upcoming-about-text">${f}</p>\n    <button class="btn upcoming-btn-add btn-accent" data-id="${o}" type="button">\n    <span class="btn-in upcoming-btn-add-span" >Add to my library</span></button>\n    <button class="btn upcoming-btn-remove btn-dark" data-id="${o}" hidden  type="button">\n    <span class="btn-in upcoming-btn-remove-span"  >Remove from my library</span></button>\n    </div>\n  `}function d(n){return String(n).padStart(2,"0")}c.addEventListener("click",(function(n){n.preventDefault();const t=n.target;t.classList.contains("upcoming-btn-add-span")?function(n){const t=n.target.parentNode;t.style.display="none";t.nextElementSibling.style.display="block"}(n):t.classList.contains("upcoming-btn-remove-span")&&function(n){const t=n.target.parentNode;t.style.display="none";t.previousElementSibling.style.display="block"}(n)})),async function(){try{l();const n=(await p()).results,t=Math.floor(Math.random()*n.length),e=(n[t].id,await async function(n){try{return(await s.default.request(a.optionsGenre)).data.genres}catch(n){return console.log(n),[]}}());0===e.length?c.innerHTML=u(n,[]):(!function(n,t){const e=[];n.forEach((n=>{const i=[];n.genre_ids.forEach((n=>{const e=t.find((t=>t.id===n));e&&i.push(e.name)})),e.push(i.join(", "))}))}(n,e),c.innerHTML=u(n,e))}finally{r()}}();s=i("2shzp");var g=i("isemc");a=i("e5MbR");const m=document.querySelector(".movies-container");function b(n){m.insertAdjacentHTML("beforeend",(0,g.galleryMarkup)(n))}(async()=>{try{s.default.request(a.optionsWeek).then((n=>{window.screen.width<=768?b(n.data.results.slice(0,1)):b(n.data.results.slice(0,3))}))}catch(n){console.log(n)}})(),i("isemc"),i("e5MbR"),i("8IXMh"),i("7WYWT"),i("kKdoG");
//# sourceMappingURL=index.259d3e2a.js.map
