{"mappings":"oeAYA,MAAMA,EAAa,sNAGNC,EAAc,CACvBC,OAAQ,MACRC,IAAK,mDACLC,OAAQ,CAAEC,SAAU,SACpBC,QAAS,CACLC,OAAQ,mBACRC,cAAe,UAAUR,MCRlBS,SAASC,cAAc,gBACtBD,SAASC,cAAc,iBCdvC,IAAAC,EAAAC,EAAA,SCAA,MAAMC,EAAW,qlDAYXC,EAAY,okBCVX,SAASC,EAAcC,GAC5B,IAAIC,EAAc,CAACH,EAAWA,EAAWA,EAAWA,EAAWA,GAE/D,MAAMI,EAASC,KAAKC,MAAMJ,GACpBK,EAAcH,EAAS,EACvBI,EAAoBH,KAAKI,MAAMF,GAC/BG,EAAaH,EAAcC,EAAoB,EAErD,OAAe,IAAXJ,GAAiBF,EAGjBE,GAAU,IACZD,EAAYQ,KAAKZ,GACV,gCAAgCI,EAAYS,KAAK,cAG1DT,EAAYQ,KAAKZ,EAAU,EAAGS,GAE1BE,GACFP,EAAYQ,KDCC,k8BCDcH,EAAmBA,EAAoB,GAG7D,uBAAuBL,EAAYS,KAAK,aAbtC,gCAAgCT,EAAYS,KAAK,W,CFE5D,MAAMC,EAAmBlB,SAASC,cAAc,sBAahDC,EAAAiB,QACGC,QAZa,CACd3B,OAAQ,MACRC,IAAK,gDACLC,OAAQ,CAAEC,SAAU,MACpBC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAMHsB,MAAK,SAAUC,GAGd,MAAQC,OAAQC,GAAcF,EAASG,KACvCC,QAAQC,IAAIH,E,IAEbI,OAAM,SAAUC,GACfH,QAAQG,MAAMA,E,IAGlB3B,EAAAiB,QACGC,QAAQ5B,GACR6B,MAAK,SAAUC,GACd,MAAQQ,QAASC,GAAeT,EAASG,KAEpBM,EAAWC,KAAIC,IAClCA,EAAEC,aAAeD,EAAEC,aAAaC,MAAM,EAAG,GACzCF,EAAEG,aAAe9B,EAAc2B,EAAEG,cAE1BH,KAKTf,EAAiBmB,UAA0Bf,EAASG,KAAKK,QGlDxDE,KAAI,EAACM,MAAEA,EAAKC,YAAEA,EAAWC,UAAEA,EAASJ,aAAEA,EAAYF,aAAEA,KAC5C,+CACOK,WAAqBD,yKAIFA,8FAIAE,sGAIAN,6HAMAE,kEAMlCnB,KAAK,G,IH0BPW,OAAM,SAAUC,GACfH,QAAQG,MAAMA,E,IIvDlB,MAAMY,EAAYzC,SAASC,cAAc,kBAEzCyC,OAAOC,iBAAiB,UAAU,WAC1BD,OAAOE,YAAc,IACrBH,EAAUI,MAAMC,QAAU,QAE1BL,EAAUI,MAAMC,QAAU,M,IAIlCL,EAAUE,iBAAiB,SAAS,WAChCD,OAAOK,SAAS,CACZC,IAAK,EACLC,SAAU,U","sources":["src/js/request.js","src/js/pages/catalog/search.js","src/js/pages/catalog/gallery.js","src/js/components/starsPattern.js","src/js/components/ratingAPI.js","src/js/galleryMarkup.js","src/js/components/scrollUp.js"],"sourcesContent":["// Щоб імпортувати використовуйте: import { optionsWeek, optionsUpcoming, optionsSearch, optionsDetails, optionsVideos, optionsGenre } from './шлях до js';\n\n// Приклад використання:\n// axios\n//     .request(optionsWeek)\n//     .then(function (response) {\n//         console.log(response.data);\n//     })\n//     .catch(function (error) {\n//         console.error(error);\n//     });\n\nconst ACCESS_KEY = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOTZiN2ExNTYwNGYwMmExYWNkMTVhNWJlY2JmMjQ4MCIsInN1YiI6IjY0ODNhYTBhOTkyNTljMDBlMmY0NWE4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._Sdbi-2PalUFAI7K7hzIv-hc4p92EU6q_yg6_IJJHjA'\n\n// MOVIES OF THE WEEK\nexport const optionsWeek = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/movie/week',\n    params: { language: 'en-US' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n// UPCOMING MOVIES\nexport const optionsUpcoming = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/movie/upcoming',\n    params: { language: 'en-US', page: '1' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n// SEARCH MOVIES\nexport const optionsSearch = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/search/movie',\n    params: { include_adult: 'false', language: 'en-US', page: '1' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n// DETAILS MOVIES\nexport const optionsDetails = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/movie/movie_id',\n    params: { language: 'en-US' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n// VIDEOS MOVIES \nexport const optionsVideos = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/movie/movie_id/videos',\n    params: { language: 'en-US' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};\n\n\n// GENRE MOVIES\nexport const optionsGenre = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/genre/movie/list',\n    params: { language: 'en' },\n    headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ACCESS_KEY}`\n    }\n};","import axios from 'axios';\n\nimport {\n  optionsWeek,\n  optionsUpcoming,\n  optionsSearch,\n  optionsDetails,\n  optionsVideos,\n  optionsGenre,\n} from '../../request.js';\n\nimport { galleryMarkup } from '../../galleryMarkup';\n\nconst formEl = document.querySelector('#search-form');\nconst inputEl = document.querySelector('.search-field');\n\n// function handleSubmitForm(event) {\n//   event.preventDefault();\n\n//   // clearMarkup();\n//   // page = 1;\n\n//   if (inputEl.value.trim() === '') {\n//     alert(\n//       'Sorry, there are no moves matching your search query. Please try again.'\n//     );\n//     return;\n//   } else {\n//     try {\n//       axios\n//         .request(optionsWeek)\n//         .then(function (response) {\n//           console.log(response.data);\n//           return response.data;\n//         })\n//         .then(data => {\n//           if (data.results.length === 20) {\n//             alert(\n//               'Sorry, there are no moves matching your search query. Please try again.'\n//             );\n//           }\n//         })\n//         .catch(function (error) {\n//           console.error(error);\n//         });\n//     } catch (error) {\n//       alert('Sorry, something went wrong. Try again later.');\n//     }\n//   }\n// }\n// if (data.totalHits > page) {\n//   observer.observe(guard);\n// }\n\n// } else {\n//       galleryMarkup(data.hits);\n//       Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`);\n//     }\n//   } catch (error) {\n//     Notiflix.Notify.failure('Sorry, something went wrong. Try again later.');\n//   }\n// }\n\n// function handlePagination(entries, observer) {\n//   try {\n//     entries.forEach(entry => {\n//       if (entry.isIntersecting) {\n//         page += 1;\n//         fetchImages(inputEl.value, page, limit).then(data => {\n//           galleryMarkup(data.hits);\n\n//           if (data.totalHits <= page * limit) {\n//             observer.unobserve(guard);\n//             setTimeout(() => {\n//               Notiflix.Notify.info(\n//                 \"We're sorry, but you've reached the end of search results.\"\n//               );\n//             }, 2000);\n//           }\n//         });\n//       }\n//     });\n//   } catch (error) {\n//     Notiflix.Notify.failure('Sorry, something went wrong. Try again later.');\n//   }\n// }\n\n// function galleryMarkup(fetchedImages) {\n//   const markup = fetchedImages\n//     .map(\n//       image => `\n//         <div style=\"flex-basis: 360px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.54);\n// -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.54);\n// -moz-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.54);\">\n//           <a class=\"gallery-link\" href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" style=\"display: block; width: 100%; height: 220px\"></a>\n//           <ul style=\"display: flex; list-style: none; justify-content: space-evenly; padding-left: 0\">\n//             <li style=\"text-align: center; height: 50px\"><b>Likes</b><p>${image.likes}</p></li>\n//             <li style=\"text-align: center; height: 50px\"><b>Views</b><p>${image.views}</p></li>\n//             <li style=\"text-align: center; height: 50px\"><b>Comments</b><p>${image.comments}</p></li>\n//             <li style=\"text-align: center; height: 50px\"><b>Downloads</b><p>${image.downloads}</p></li>\n//           </ul>\n//         </div>\n//       `\n//     )\n//     .join('');\n\n//   galleryContainer.style.display = 'flex';\n//   galleryContainer.style.justifyContent = 'center';\n//   galleryContainer.style.flexWrap = 'wrap';\n//   galleryContainer.style.columnGap = '20px';\n//   galleryContainer.style.rowGap = '20px';\n//   galleryContainer.insertAdjacentHTML('beforeend', markup);\n\n//   refreshLightbox();\n// }\n\n// function clearMarkup() {\n//   galleryContainer.innerHTML = '';\n// }\n\n// function refreshLightbox() {\n//   if (lightbox) {\n//     lightbox.refresh();\n//   } else {\n//     lightbox = new SimpleLightbox('.gallery-link', {\n//       captionDelay: 250,\n//       animationSlide: false,\n//     });\n//   }\n// }\n","import axios from 'axios';\nimport {\n  optionsWeek,\n  optionsUpcoming,\n  optionsSearch,\n  optionsDetails,\n  optionsVideos,\n  optionsGenre,\n} from '../../request';\n\nimport { galleryMarkup } from '../../galleryMarkup';\nimport { ratingToStars } from '../../components/ratingAPI';\n\nconst galleryContainer = document.querySelector('.gallery-container');\n\nconst options = {\n  method: 'GET',\n  url: 'https://api.themoviedb.org/3/genre/movie/list',\n  params: { language: 'en' },\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0YTA1ZGZhMzkwMDIxYjkyZTc3ZDMzYzRhODYyZjRmNiIsInN1YiI6IjY0ODFmZWJmNjQ3NjU0MDBhZDgxYTBlMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.grPFkj7_KdeogJCliXg4MDIgfDdRvjZd4DM3BdVB2Kw',\n  },\n};\n\naxios\n  .request(options)\n  .then(function (response) {\n    // console.log(response.data);\n\n    const { genres: genresNew } = response.data;\n    console.log(genresNew);\n  })\n  .catch(function (error) {\n    console.error(error);\n  });\n\naxios\n  .request(optionsWeek)\n  .then(function (response) {\n    const { results: resultsNew } = response.data;\n\n    const resultsYears = resultsNew.map(r => {\n      r.release_date = r.release_date.slice(0, 4);\n      r.vote_average = ratingToStars(r.vote_average);\n      //   r.genre_ids = ratingToStars(r.vote_average);\n      return r;\n    });\n\n    // console.log(resultsYears);\n\n    galleryContainer.innerHTML = galleryMarkup(response.data.results);\n  })\n  .catch(function (error) {\n    console.error(error);\n  });\n","const fullStar = `\n<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 12 11\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M9.23339 10.5019C9.15446 10.5023 9.07744 10.4776 9.01331 10.4316L5.99902 8.24632L2.98472 10.4316C2.92032 10.4783 2.84274 10.5034 2.76318 10.5031C2.68363 10.5028 2.60623 10.4772 2.54217 10.43C2.47811 10.3828 2.43072 10.3165 2.40684 10.2406C2.38296 10.1648 2.38383 10.0832 2.40933 10.0079L3.58495 6.52577L0.538077 4.43632C0.47208 4.39111 0.422269 4.32598 0.395922 4.25045C0.369575 4.17492 0.368073 4.09294 0.391636 4.01649C0.415199 3.94004 0.462591 3.87313 0.526888 3.82554C0.591186 3.77794 0.669018 3.75215 0.749015 3.75194H4.50792L5.6423 0.260929C5.66673 0.185559 5.71442 0.119866 5.7785 0.0732747C5.84259 0.026683 5.91978 0.00158691 5.99902 0.00158691C6.07825 0.00158691 6.15544 0.026683 6.21953 0.0732747C6.28362 0.119866 6.3313 0.185559 6.35573 0.260929L7.49011 3.75312H11.249C11.3291 3.75308 11.4071 3.77868 11.4716 3.82619C11.5361 3.87369 11.5837 3.9406 11.6074 4.0171C11.6311 4.09361 11.6297 4.1757 11.6034 4.25134C11.5771 4.32699 11.5272 4.39223 11.4611 4.43749L8.41308 6.52577L9.588 10.0069C9.60704 10.0633 9.61239 10.1234 9.60362 10.1822C9.59485 10.2411 9.57221 10.297 9.53757 10.3453C9.50292 10.3937 9.45727 10.4331 9.40438 10.4603C9.35149 10.4876 9.29288 10.5018 9.23339 10.5019Z\" fill=\"url(#paint0_linear_148_11901)\"/>\n<defs>\n<linearGradient id=\"paint0_linear_148_11901\" x1=\"1.74902\" y1=\"0.751953\" x2=\"9.24902\" y2=\"10.752\" gradientUnits=\"userSpaceOnUse\">\n<stop stop-color=\"#F84119\"/>\n<stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n</linearGradient>\n</defs>\n</svg>\n`;\n\nconst emptyStar = `<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M11.25 5.12695H7.21875L6 1.37695L4.78125 5.12695H0.75L4.03125 7.37695L2.76562 11.127L6 8.7832L9.23438 11.127L7.96875 7.37695L11.25 5.12695Z\" stroke=\"url(#paint0_linear_148_11906)\" stroke-linejoin=\"round\"/>\n<defs>\n<linearGradient id=\"paint0_linear_148_11906\" x1=\"2.03251\" y1=\"2.07362\" x2=\"8.98534\" y2=\"11.3936\" gradientUnits=\"userSpaceOnUse\">\n<stop stop-color=\"#F84119\"/>\n<stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n</linearGradient>\n</defs>\n</svg>`;\n\nconst halfStar = `<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z\" stroke=\"url(#paint0_linear_148_7005)\" stroke-linejoin=\"round\"/>\n<path d=\"M9 1.6875V12.7969L4.14844 16.3125L6.04688 10.6875L1.125 7.3125H7.17188L9 1.6875Z\" fill=\"url(#paint1_linear_148_7005)\"/>\n<defs>\n<linearGradient id=\"paint0_linear_148_7005\" x1=\"3.04877\" y1=\"2.73251\" x2=\"13.478\" y2=\"16.7124\" gradientUnits=\"userSpaceOnUse\">\n<stop stop-color=\"#F84119\"/>\n<stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n</linearGradient>\n<linearGradient id=\"paint1_linear_148_7005\" x1=\"2.08688\" y1=\"2.73251\" x2=\"12.1506\" y2=\"9.47748\" gradientUnits=\"userSpaceOnUse\">\n<stop stop-color=\"#F84119\"/>\n<stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n</linearGradient>\n</defs>\n</svg>\n`;\n\nexport { fullStar, emptyStar, halfStar };\n","import { fullStar, emptyStar, halfStar } from './starsPattern';\n\nexport function ratingToStars(value) {\n  let starsRating = [emptyStar, emptyStar, emptyStar, emptyStar, emptyStar];\n\n  const rating = Math.round(value);\n  const ratingStars = rating / 2;\n  const quantityFullStars = Math.floor(ratingStars);\n  const isHalfStar = ratingStars - quantityFullStars > 0;\n\n  if (rating === 0 || !value) {\n    return `<div class=\"rating__wrapper\">${starsRating.join('')}</div>`;\n  }\n  if (rating >= 10) {\n    starsRating.fill(fullStar);\n    return `<div class=\"rating__wrapper\">${starsRating.join('')}</div>`;\n  }\n\n  starsRating.fill(fullStar, 0, quantityFullStars);\n\n  if (isHalfStar) {\n    starsRating.fill(halfStar, quantityFullStars, quantityFullStars + 1);\n  }\n\n  return `<div class=\"rating\">${starsRating.join('')}</div>`;\n}\n","export function galleryMarkup(movies) {\n  return movies\n    .map(({ title, poster_path, genre_ids, vote_average, release_date }) => {\n      return `<div class=\"movie-card\">\n        <img src=\"${poster_path}\" alt=\"${title}\" loading=\"lazy\" class=\"movie-card__img\"/>\n      <div class=\"movie-card__info\">\n        <div>\n        <p class=\"info-item\">\n          <b class=\"info-item__name\">${title}</b>\n        </p>\n\n        <p class=\"info-item\">\n          <b class=\"info-item__name\">${genre_ids}</b>\n        </p>\n        \n        <p class=\"info-item\">\n          <b class=\"info-item__name\">${release_date}</b>\n        </p>\n        </div>\n\n        <div>\n        <p class=\"info-item\">\n          <b class=\"info-item__name\">${vote_average}</b>\n        </p>\n        </div>\n      </div>\n    </div>`;\n    })\n    .join('');\n}\n","const scrollBtn = document.querySelector(\".scroll-up-btn\");\n\nwindow.addEventListener(\"scroll\", function () {\n    if (window.pageYOffset > 300) {\n        scrollBtn.style.display = \"block\";\n    } else {\n        scrollBtn.style.display = \"none\";\n    }\n});\n\nscrollBtn.addEventListener(\"click\", function () {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n});"],"names":["$a426e9e8249f6b8b$var$ACCESS_KEY","$a426e9e8249f6b8b$export$f211b01f37882962","method","url","params","language","headers","accept","Authorization","document","querySelector","$2shzp","parcelRequire","$9da6e5b05b505106$export$cf0b3d5a3c4c1ede","$9da6e5b05b505106$export$2b9da15ffb823cb5","$92790651b30fc6a2$export$9d863b0a68da910e","value","starsRating","rating","Math","round","ratingStars","quantityFullStars","floor","isHalfStar","fill","join","$51dd2822a64384f3$var$galleryContainer","default","request","then","response","genres","genresNew","data","console","log","catch","error","results","resultsNew","map","r","release_date","slice","vote_average","innerHTML","title","poster_path","genre_ids","$f1a27ee66f87eadf$var$scrollBtn","window","addEventListener","pageYOffset","style","display","scrollTo","top","behavior"],"version":3,"file":"catalog.1c4d3400.js.map"}